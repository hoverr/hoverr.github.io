<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script type="application/javascript">window.HELP_IMPROVE_VIDEOJS = false;
    </script>
    <link href="https://vjs.zencdn.net/5.4.6/video-js.min.css" rel="stylesheet">
    <script src="https://vjs.zencdn.net/5.4.6/video.min.js"></script>
    <link href="https://cdn.rawgit.com/MailOnline/videojs-vast-vpaid/master/bin/videojs.vast.vpaid.min.css"
        rel="stylesheet">
    <script src="https://cdn.rawgit.com/MailOnline/videojs-vast-vpaid/master/bin/videojs_5.vast.vpaid.min.js"></script>
    <style>
        video {
            height: 100%;
            width: 100%;
            /* position: absolute; */
            top: 0;
            bottom: 0;
            right: 0;
            left: 0;
        }
    </style>
</head>

<body>
    <p>
        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam vitae viverra dolor, vel sagittis nibh. Quisque
        imperdiet augue a elementum ultricies. Donec mattis urna et sem porta, ut tempus nulla cursus. Etiam sagittis
        metus non urna consectetur suscipit. Nunc sit amet porttitor felis, ac rhoncus dolor. Praesent mollis ipsum ut
        arcu facilisis placerat. Integer id ex eu massa suscipit pellentesque at ut elit. Nulla in elit ac nisl semper
        tristique id tincidunt libero. Donec sapien mauris, pulvinar ut lectus vel, molestie consequat arcu. Sed egestas
        eros ac tempus tristique. Sed ac justo cursus, porttitor neque eget, fringilla arcu. Aliquam imperdiet eu tortor
        nec blandit. Sed ultricies egestas urna, egestas dapibus risus ultrices lacinia.
    </p>
    <p>
        Sed lacinia mauris at est lacinia rutrum. Praesent quam lacus, egestas sit amet nisi vel, pharetra laoreet
        neque. In libero leo, commodo at eros nec, lobortis tristique leo. Aliquam vitae porta sapien. Aenean dignissim
        nisi purus, sed volutpat est eleifend ut. Vivamus vel pulvinar tellus, eget cursus neque. Donec auctor massa
        neque, vel faucibus leo viverra eget. Mauris sit amet semper tortor, vel lobortis dolor. Lorem ipsum dolor sit
        amet, consectetur adipiscing elit. Suspendisse egestas vestibulum ligula a convallis. Etiam ut risus est. Sed
        sed dapibus felis. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nulla
        facilisi.</p>
    <p>
        Sed lacinia mauris at est lacinia rutrum. Praesent quam lacus, egestas sit amet nisi vel, pharetra laoreet
        neque. In libero leo, commodo at eros nec, lobortis tristique leo. Aliquam vitae porta sapien. Aenean dignissim
        nisi purus, sed volutpat est eleifend ut. Vivamus vel pulvinar tellus, eget cursus neque. Donec auctor massa
        neque, vel faucibus leo viverra eget. Mauris sit amet semper tortor, vel lobortis dolor. Lorem ipsum dolor sit
        amet, consectetur adipiscing elit. Suspendisse egestas vestibulum ligula a convallis. Etiam ut risus est. Sed
        sed dapibus felis. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nulla
        facilisi.</p>
    <p>
        Sed lacinia mauris at est lacinia rutrum. Praesent quam lacus, egestas sit amet nisi vel, pharetra laoreet
        neque. In libero leo, commodo at eros nec, lobortis tristique leo. Aliquam vitae porta sapien. Aenean dignissim
        nisi purus, sed volutpat est eleifend ut. Vivamus vel pulvinar tellus, eget cursus neque. Donec auctor massa
        neque, vel faucibus leo viverra eget. Mauris sit amet semper tortor, vel lobortis dolor. Lorem ipsum dolor sit
        amet, consectetur adipiscing elit. Suspendisse egestas vestibulum ligula a convallis. Etiam ut risus est. Sed
        sed dapibus felis. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nulla
        facilisi.</p>
    <p>
        Sed lacinia mauris at est lacinia rutrum. Praesent quam lacus, egestas sit amet nisi vel, pharetra laoreet
        neque. In libero leo, commodo at eros nec, lobortis tristique leo. Aliquam vitae porta sapien. Aenean dignissim
        nisi purus, sed volutpat est eleifend ut. Vivamus vel pulvinar tellus, eget cursus neque. Donec auctor massa
        neque, vel faucibus leo viverra eget. Mauris sit amet semper tortor, vel lobortis dolor. Lorem ipsum dolor sit
        amet, consectetur adipiscing elit. Suspendisse egestas vestibulum ligula a convallis. Etiam ut risus est. Sed
        sed dapibus felis. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nulla
        facilisi.</p>
    <p>
        Sed lacinia mauris at est lacinia rutrum. Praesent quam lacus, egestas sit amet nisi vel, pharetra laoreet
        neque. In libero leo, commodo at eros nec, lobortis tristique leo. Aliquam vitae porta sapien. Aenean dignissim
        nisi purus, sed volutpat est eleifend ut. Vivamus vel pulvinar tellus, eget cursus neque. Donec auctor massa
        neque, vel faucibus leo viverra eget. Mauris sit amet semper tortor, vel lobortis dolor. Lorem ipsum dolor sit
        amet, consectetur adipiscing elit. Suspendisse egestas vestibulum ligula a convallis. Etiam ut risus est. Sed
        sed dapibus felis. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nulla
        facilisi.</p>
    <p>
        Sed lacinia mauris at est lacinia rutrum. Praesent quam lacus, egestas sit amet nisi vel, pharetra laoreet
        neque. In libero leo, commodo at eros nec, lobortis tristique leo. Aliquam vitae porta sapien. Aenean dignissim
        nisi purus, sed volutpat est eleifend ut. Vivamus vel pulvinar tellus, eget cursus neque. Donec auctor massa
        neque, vel faucibus leo viverra eget. Mauris sit amet semper tortor, vel lobortis dolor. Lorem ipsum dolor sit
        amet, consectetur adipiscing elit. Suspendisse egestas vestibulum ligula a convallis. Etiam ut risus est. Sed
        sed dapibus felis. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nulla
        facilisi.</p>
    <p>
        Sed lacinia mauris at est lacinia rutrum. Praesent quam lacus, egestas sit amet nisi vel, pharetra laoreet
        neque. In libero leo, commodo at eros nec, lobortis tristique leo. Aliquam vitae porta sapien. Aenean dignissim
        nisi purus, sed volutpat est eleifend ut. Vivamus vel pulvinar tellus, eget cursus neque. Donec auctor massa
        neque, vel faucibus leo viverra eget. Mauris sit amet semper tortor, vel lobortis dolor. Lorem ipsum dolor sit
        amet, consectetur adipiscing elit. Suspendisse egestas vestibulum ligula a convallis. Etiam ut risus est. Sed
        sed dapibus felis. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nulla
        facilisi.</p>
    <p>
        Sed lacinia mauris at est lacinia rutrum. Praesent quam lacus, egestas sit amet nisi vel, pharetra laoreet
        neque. In libero leo, commodo at eros nec, lobortis tristique leo. Aliquam vitae porta sapien. Aenean dignissim
        nisi purus, sed volutpat est eleifend ut. Vivamus vel pulvinar tellus, eget cursus neque. Donec auctor massa
        neque, vel faucibus leo viverra eget. Mauris sit amet semper tortor, vel lobortis dolor. Lorem ipsum dolor sit
        amet, consectetur adipiscing elit. Suspendisse egestas vestibulum ligula a convallis. Etiam ut risus est. Sed
        sed dapibus felis. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nulla
        facilisi.</p>
    <p>
        Sed lacinia mauris at est lacinia rutrum. Praesent quam lacus, egestas sit amet nisi vel, pharetra laoreet
        neque. In libero leo, commodo at eros nec, lobortis tristique leo. Aliquam vitae porta sapien. Aenean dignissim
        nisi purus, sed volutpat est eleifend ut. Vivamus vel pulvinar tellus, eget cursus neque. Donec auctor massa
        neque, vel faucibus leo viverra eget. Mauris sit amet semper tortor, vel lobortis dolor. Lorem ipsum dolor sit
        amet, consectetur adipiscing elit. Suspendisse egestas vestibulum ligula a convallis. Etiam ut risus est. Sed
        sed dapibus felis. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nulla
        facilisi.</p>
    <p>
        Sed lacinia mauris at est lacinia rutrum. Praesent quam lacus, egestas sit amet nisi vel, pharetra laoreet
        neque. In libero leo, commodo at eros nec, lobortis tristique leo. Aliquam vitae porta sapien. Aenean dignissim
        nisi purus, sed volutpat est eleifend ut. Vivamus vel pulvinar tellus, eget cursus neque. Donec auctor massa
        neque, vel faucibus leo viverra eget. Mauris sit amet semper tortor, vel lobortis dolor. Lorem ipsum dolor sit
        amet, consectetur adipiscing elit. Suspendisse egestas vestibulum ligula a convallis. Etiam ut risus est. Sed
        sed dapibus felis. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nulla
        facilisi.</p>
    <p>
        Sed lacinia mauris at est lacinia rutrum. Praesent quam lacus, egestas sit amet nisi vel, pharetra laoreet
        neque. In libero leo, commodo at eros nec, lobortis tristique leo. Aliquam vitae porta sapien. Aenean dignissim
        nisi purus, sed volutpat est eleifend ut. Vivamus vel pulvinar tellus, eget cursus neque. Donec auctor massa
        neque, vel faucibus leo viverra eget. Mauris sit amet semper tortor, vel lobortis dolor. Lorem ipsum dolor sit
        amet, consectetur adipiscing elit. Suspendisse egestas vestibulum ligula a convallis. Etiam ut risus est. Sed
        sed dapibus felis. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nulla
        facilisi.</p>
    <p>
        Sed lacinia mauris at est lacinia rutrum. Praesent quam lacus, egestas sit amet nisi vel, pharetra laoreet
        neque. In libero leo, commodo at eros nec, lobortis tristique leo. Aliquam vitae porta sapien. Aenean dignissim
        nisi purus, sed volutpat est eleifend ut. Vivamus vel pulvinar tellus, eget cursus neque. Donec auctor massa
        neque, vel faucibus leo viverra eget. Mauris sit amet semper tortor, vel lobortis dolor. Lorem ipsum dolor sit
        amet, consectetur adipiscing elit. Suspendisse egestas vestibulum ligula a convallis. Etiam ut risus est. Sed
        sed dapibus felis. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nulla
        facilisi.</p>
    <p>
        Sed lacinia mauris at est lacinia rutrum. Praesent quam lacus, egestas sit amet nisi vel, pharetra laoreet
        neque. In libero leo, commodo at eros nec, lobortis tristique leo. Aliquam vitae porta sapien. Aenean dignissim
        nisi purus, sed volutpat est eleifend ut. Vivamus vel pulvinar tellus, eget cursus neque. Donec auctor massa
        neque, vel faucibus leo viverra eget. Mauris sit amet semper tortor, vel lobortis dolor. Lorem ipsum dolor sit
        amet, consectetur adipiscing elit. Suspendisse egestas vestibulum ligula a convallis. Etiam ut risus est. Sed
        sed dapibus felis. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nulla
        facilisi.</p>
    <p>
        Sed lacinia mauris at est lacinia rutrum. Praesent quam lacus, egestas sit amet nisi vel, pharetra laoreet
        neque. In libero leo, commodo at eros nec, lobortis tristique leo. Aliquam vitae porta sapien. Aenean dignissim
        nisi purus, sed volutpat est eleifend ut. Vivamus vel pulvinar tellus, eget cursus neque. Donec auctor massa
        neque, vel faucibus leo viverra eget. Mauris sit amet semper tortor, vel lobortis dolor. Lorem ipsum dolor sit
        amet, consectetur adipiscing elit. Suspendisse egestas vestibulum ligula a convallis. Etiam ut risus est. Sed
        sed dapibus felis. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nulla
        facilisi.</p>
    <p>
        Sed lacinia mauris at est lacinia rutrum. Praesent quam lacus, egestas sit amet nisi vel, pharetra laoreet
        neque. In libero leo, commodo at eros nec, lobortis tristique leo. Aliquam vitae porta sapien. Aenean dignissim
        nisi purus, sed volutpat est eleifend ut. Vivamus vel pulvinar tellus, eget cursus neque. Donec auctor massa
        neque, vel faucibus leo viverra eget. Mauris sit amet semper tortor, vel lobortis dolor. Lorem ipsum dolor sit
        amet, consectetur adipiscing elit. Suspendisse egestas vestibulum ligula a convallis. Etiam ut risus est. Sed
        sed dapibus felis. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nulla
        facilisi.</p>
    <p>
        Sed lacinia mauris at est lacinia rutrum. Praesent quam lacus, egestas sit amet nisi vel, pharetra laoreet
        neque. In libero leo, commodo at eros nec, lobortis tristique leo. Aliquam vitae porta sapien. Aenean dignissim
        nisi purus, sed volutpat est eleifend ut. Vivamus vel pulvinar tellus, eget cursus neque. Donec auctor massa
        neque, vel faucibus leo viverra eget. Mauris sit amet semper tortor, vel lobortis dolor. Lorem ipsum dolor sit
        amet, consectetur adipiscing elit. Suspendisse egestas vestibulum ligula a convallis. Etiam ut risus est. Sed
        sed dapibus felis. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nulla
        facilisi.</p>
    <p>
        Sed lacinia mauris at est lacinia rutrum. Praesent quam lacus, egestas sit amet nisi vel, pharetra laoreet
        neque. In libero leo, commodo at eros nec, lobortis tristique leo. Aliquam vitae porta sapien. Aenean dignissim
        nisi purus, sed volutpat est eleifend ut. Vivamus vel pulvinar tellus, eget cursus neque. Donec auctor massa
        neque, vel faucibus leo viverra eget. Mauris sit amet semper tortor, vel lobortis dolor. Lorem ipsum dolor sit
        amet, consectetur adipiscing elit. Suspendisse egestas vestibulum ligula a convallis. Etiam ut risus est. Sed
        sed dapibus felis. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nulla
        facilisi.</p>
    <p class="video-append"></p>
    <p>
        Praesent aliquet malesuada tincidunt. Nullam vel ullamcorper massa. Vestibulum iaculis ornare libero sed
        commodo. Fusce gravida imperdiet velit, fermentum mattis ligula malesuada vel. Donec malesuada neque in velit
        ullamcorper posuere. Phasellus bibendum consectetur euismod. Morbi mattis odio sit amet quam elementum posuere.
        Nullam convallis dolor sit amet fringilla lobortis. In tristique lorem non ultricies feugiat. Aenean id
        fermentum quam. Interdum et malesuada fames ac ante ipsum primis in faucibus. Nunc ullamcorper lorem ut elit
        varius rutrum. Sed id ipsum aliquam, aliquam lectus non, condimentum ligula. Aliquam posuere sed lectus nec
        tempus. Nam condimentum condimentum lacus, in sollicitudin dui tempus vitae. Sed sit amet ultrices nibh, eget
        accumsan lorem.</p>
    <p>
        Aliquam ut sagittis dolor, sit amet cursus nulla. Vestibulum a consectetur felis. Donec finibus nunc quis sem
        accumsan aliquet. Nulla sapien libero, fringilla sit amet turpis in, blandit volutpat nunc. Duis quis dolor
        turpis. Nulla facilisi. Donec urna dui, accumsan et molestie malesuada, accumsan quis tellus. Fusce pulvinar
        aliquet vulputate. Aenean vitae rhoncus urna, id tempor elit.</p>
    <p>
        Nam consectetur, risus ullamcorper maximus feugiat, lacus augue condimentum tellus, non tempus arcu justo ut ex.
        Cras vulputate libero ac tortor mollis mollis. Curabitur laoreet, massa porttitor venenatis cursus, tortor urna
        ornare velit, eget sollicitudin lorem dui in dolor. Donec non massa at sapien aliquam consequat. Etiam quis
        mauris sem. Nullam imperdiet, ante sit amet fermentum luctus, neque elit rhoncus libero, quis blandit libero
        tortor quis felis. Phasellus nunc sapien, interdum eu nisi eget, ullamcorper dignissim lacus. Praesent eleifend
        sed risus posuere sodales. Suspendisse potenti. Nam sed dictum velit. Morbi nisi ligula, faucibus quis posuere
        in, tristique quis ex. Integer rhoncus, ante quis vulputate varius, purus nulla rhoncus est, suscipit placerat
        magna justo quis velit. Integer facilisis cursus lectus. Lorem ipsum dolor sit amet, consectetur adipiscing
        elit. Vestibulum pharetra elit eget maximus blandit.</p>
    <p>
        Sed lacinia mauris at est lacinia rutrum. Praesent quam lacus, egestas sit amet nisi vel, pharetra laoreet
        neque. In libero leo, commodo at eros nec, lobortis tristique leo. Aliquam vitae porta sapien. Aenean dignissim
        nisi purus, sed volutpat est eleifend ut. Vivamus vel pulvinar tellus, eget cursus neque. Donec auctor massa
        neque, vel faucibus leo viverra eget. Mauris sit amet semper tortor, vel lobortis dolor. Lorem ipsum dolor sit
        amet, consectetur adipiscing elit. Suspendisse egestas vestibulum ligula a convallis. Etiam ut risus est. Sed
        sed dapibus felis. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nulla
        facilisi.</p>


    <div class="controls-custom">

    </div>
    <script type="application/javascript">
        function isElementVisible(el) {
            // console.log(el,'elementloaded')
            var rect = el.getBoundingClientRect(),
                vWidth = window.innerWidth || doc.documentElement.clientWidth,
                vHeight = window.innerHeight || doc.documentElement.clientHeight,
                efp = function (x, y) { return document.elementFromPoint(x, y) };

            // Return false if it's not in the viewport
            if (rect.right < 0 || rect.bottom < 0
                || rect.left > vWidth || rect.top > vHeight)
                return false;

            // Return true if any of its four corners are visible

            return (
                el.contains(efp(rect.left, rect.top))
                || el.contains(efp(rect.right, rect.top))
                || el.contains(efp(rect.right, rect.bottom))
                || el.contains(efp(rect.left, rect.bottom))
            );

        }
        // videojs.autoSetup();
        let cust_option = {
            "sources": [{
                src: 'http://vjs.zencdn.net/v/oceans.mp4',
                type: 'video/mp4'
            },
            {
                src: 'http://vjs.zencdn.net/v/oceans.webm',
                type: 'video/webm'
            }
            ],
            "controls": true,
            "options": true,
            "preload": "auto",
            "autoplay": false,
            "width": "640",
            "height": "360",
            "liveui": false,
            "muted": true,
            "responsive": true,
            "poster": "http://vjs.zencdn.net/v/oceans.png",
            "plugins": {
                "vastClient": {
                    "adTagUrl": "http://pubads.g.doubleclick.net/gampad/ads?sz=640x360&iu=/6062/iab_vast_samples/skippable&ciu_szs=300x250,728x90&impl=s&gdfp_req=1&env=vp&output=xml_vast2&unviewed_position_start=1",
                    "adsCancelTimeout": 3000,
                    "adsEnabled": true,
                    "preferredTech": "html5",
                    "playAdAlways": true,
                    "vpaidFlashLoaderPath": "http://github.com/MailOnline/videojs-vast-vpaid/blob/RELEASE/bin/VPAIDFlash.swf?raw=true"
                }
            }
        }

        let test_video = document.createElement('video')
        test_video.setAttribute("id", "my_video_1");
        test_video.setAttribute("class", "video-js")


        document.querySelector('.video-append').appendChild(test_video)

        videojs('my_video_1', cust_option, function () {
            //init
            console.log(this)
            window.onscroll = function (e) {
                if (this.isReady_ == true && this.hasStarted_ == false && isElementVisible(this.el_)) {
                    console.log(isElementVisible(this.el_))
                    this.muted(true)
                    this.play()
                }
            }.bind(this)

            // this.on('timeupdate', function(){
                // var currentTime = this.currentTime();
                // console.log(currentTime)
                // if(Math.round(currentTime)===10){
                //     console.info('Trigger your code here');
                // }
            // })

        })

    </script>
</body>

</html>
