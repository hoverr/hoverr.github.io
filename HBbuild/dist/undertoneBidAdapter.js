pbjsChunk([62],{632:function(e,r,n){e.exports=n(633)},633:function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),n.d(r,"spec",function(){return a});var d=n(9),t=n(1);function o(e){if(!e)return null;var r=e.gdprApplies?"1":"0",n=e.consentString?e.consentString:"";return"gdpr=".concat(r,"&gdprstr=").concat(n)}var a={code:"undertone",isBidRequestValid:function(e){if(e&&e.params&&e.params.publisherId)return e.params.publisherId=parseInt(e.params.publisherId),!0},buildRequests:function(e,r){var n={"x-ut-hb-params":[],commons:{adapterVersion:"3.13.0-pre",uids:e[0].userId}},t=r.refererInfo.referer,a=function(e){var r=null;try{var n=/[-\w]+\.([-\w]+|[-\w]{3,}|[-\w]{1,3}\.[-\w]{2})$/i.exec(e);if(null!=n&&0<n.length){r=n[0];for(var t=1;t<n.length;t++)n[t].length>r.length&&(r=n[t])}}catch(e){r=null}return r}(d.c(t).hostname),c=function(){try{var e=window.top.document.querySelector("link[rel='canonical']");if(null!==e)return e.href}catch(e){}return null}()||t,u=e[0].params.publisherId,s="".concat("https://hb.undertone.com/hb","?pid=").concat(u,"&domain=").concat(a),i=o(r.gdprConsent);return i&&(s+="&".concat(i)),r.uspConsent&&(s+="&ccpa=".concat(r.uspConsent)),e.map(function(e){var r={bidRequestId:e.bidId,hbadaptor:"prebid",url:c,domain:a,placementId:null!=e.params.placementId?e.params.placementId:null,publisherId:e.params.publisherId,sizes:e.sizes,params:e.params};n["x-ut-hb-params"].push(r)}),{method:"POST",url:s,withCredentials:!0,data:JSON.stringify(n)}},interpretResponse:function(e){var n=[],r=e.body;return r&&Array.isArray(r)&&0<r.length&&r.forEach(function(e){if(e.ad&&0<e.cpm){var r={requestId:e.bidRequestId,cpm:e.cpm,width:e.width,height:e.height,creativeId:e.adId,currency:e.currency,netRevenue:e.netRevenue,ttl:e.ttl||360,ad:e.ad};n.push(r)}}),n},getUserSyncs:function(e,r,n,t){var a=[],c=o(n),u="",s="";return c&&(u+="?".concat(c),s+="&".concat(c)),t&&(u+=""!=u?"&":"?",u+="ccpa=".concat(t),s+="&ccpa=".concat(t)),e.iframeEnabled?a.push({type:"iframe",url:"https://cdn.undertone.com/js/usersync.html"+u}):e.pixelEnabled&&a.push({type:"image",url:"https://usr.undertone.com/userPixel/syncOne?id=1&of=2"+s},{type:"image",url:"https://usr.undertone.com/userPixel/syncOne?id=2&of=2"+s}),a}};Object(t.registerBidder)(a)}},[632]);