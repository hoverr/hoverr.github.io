pbjsChunk([25],{397:function(t,e,n){t.exports=n(398)},398:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"BID_WON_TIMEOUT",function(){return p});var u=n(0),i=n(4),a=n(6),o=n(5),s=n.n(o),r=n(7);function c(){return(c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}var d,p=500,f={auctions:{},bidAdUnits:{}},l=c(Object(a.a)({EMPTYURL:"",ANALYTICSTYPE:"endpoint"}),{track:function(t){var e=t.eventType,n=t.args,i=u.timestamp();switch(u.logInfo("LIVEWRAPPED_EVENT:",[e,n]),e){case s.a.EVENTS.AUCTION_INIT:u.logInfo("LIVEWRAPPED_AUCTION_INIT:",n),f.auctions[n.auctionId]={bids:{}};break;case s.a.EVENTS.BID_REQUESTED:u.logInfo("LIVEWRAPPED_BID_REQUESTED:",n),f.auctions[n.auctionId].timeStamp=n.start,n.bids.forEach(function(t){f.auctions[n.auctionId].bids[t.bidId]={bidder:t.bidder,adUnit:t.adUnitCode,isBid:!1,won:!1,timeout:!1,sendStatus:0,readyToSend:0,start:n.start},u.logInfo(t)}),u.logInfo(l.requestEvents);break;case s.a.EVENTS.BID_RESPONSE:u.logInfo("LIVEWRAPPED_BID_RESPONSE:",n);var a=f.auctions[n.auctionId].bids[n.requestId];a.isBid=n.getStatusCode()===s.a.STATUS.GOOD,a.width=n.width,a.height=n.height,a.cpm=n.cpm,a.ttr=n.timeToRespond,a.readyToSend=1,a.mediaType="native"==n.mediaType?2:1,a.ttr||(a.ttr=i-a.start),f.bidAdUnits[a.adUnit]||(f.bidAdUnits[a.adUnit]={sent:0,timeStamp:f.auctions[n.auctionId].timeStamp});break;case s.a.EVENTS.BIDDER_DONE:u.logInfo("LIVEWRAPPED_BIDDER_DONE:",n),n.bids.forEach(function(t){var e=f.auctions[t.auctionId].bids[t.bidId||t.requestId];e.ttr||(e.ttr=i-e.start),e.readyToSend=1});break;case s.a.EVENTS.BID_WON:u.logInfo("LIVEWRAPPED_BID_WON:",n);var o=f.auctions[n.auctionId].bids[n.requestId];o.won=!0,0!=o.sendStatus&&l.sendEvents();break;case s.a.EVENTS.BID_TIMEOUT:u.logInfo("LIVEWRAPPED_BID_TIMEOUT:",n),n.forEach(function(t){f.auctions[t.auctionId].bids[t.bidId].timeout=!0});break;case s.a.EVENTS.AUCTION_END:u.logInfo("LIVEWRAPPED_AUCTION_END:",n),setTimeout(function(){l.sendEvents()},p)}}});l.originEnableAnalytics=l.enableAnalytics,l.allRequestEvents=[],l.enableAnalytics=function(t){d=t.options,l.originEnableAnalytics(t)},l.sendEvents=function(){var n,a,o,s,r,t={publisherId:d.publisherId,requests:(r=[],Object.keys(f.auctions).forEach(function(i){Object.keys(f.auctions[i].bids).forEach(function(t){var e=f.auctions[i],n=e.bids[t];1&n.sendStatus||(n.sendStatus|=1,r.push({timeStamp:e.timeStamp,adUnit:n.adUnit,bidder:n.bidder}))})}),r),responses:(s=[],Object.keys(f.auctions).forEach(function(i){Object.keys(f.auctions[i].bids).forEach(function(t){var e=f.auctions[i],n=e.bids[t];!n.readyToSend||2&n.sendStatus||n.timeout||(n.sendStatus|=2,s.push({timeStamp:e.timeStamp,adUnit:n.adUnit,bidder:n.bidder,width:n.width,height:n.height,cpm:n.cpm,ttr:n.ttr,IsBid:n.isBid,mediaType:n.mediaType}))})}),s),wins:(o=[],Object.keys(f.auctions).forEach(function(i){Object.keys(f.auctions[i].bids).forEach(function(t){var e=f.auctions[i],n=e.bids[t];4&n.sendStatus||!n.won||(n.sendStatus|=4,o.push({timeStamp:e.timeStamp,adUnit:n.adUnit,bidder:n.bidder,width:n.width,height:n.height,cpm:n.cpm,mediaType:n.mediaType}))})}),o),timeouts:(a=[],Object.keys(f.auctions).forEach(function(i){Object.keys(f.auctions[i].bids).forEach(function(t){var e=f.auctions[i],n=e.bids[t];8&n.sendStatus||!n.timeout||(n.sendStatus|=8,a.push({bidder:n.bidder,adUnit:n.adUnit,timeStamp:e.timeStamp}))})}),a),bidAdUnits:(n=[],Object.keys(f.bidAdUnits).forEach(function(t){var e=f.bidAdUnits[t];e.sent||(e.sent=1,n.push({adUnit:t,timeStamp:e.timeStamp}))}),n),rcv:function(){try{return u.getWindowTop().I12C&&1===u.getWindowTop().I12C.Morph}catch(t){}}()};0==t.requests.length&&0==t.responses.length&&0==t.wins.length&&0==t.timeouts.length||Object(i.a)(d.endpoint||"https://lwadm.com/analytics/10",void 0,JSON.stringify(t),{method:"POST"})},r.default.registerAnalyticsAdapter({adapter:l,code:"livewrapped"}),e.default=l},6:function(t,e,n){"use strict";e.a=function(t){var a,o=t.url,e=t.analyticsType,s=t.global,i=t.handler,r=[],u=0,n=!0;e!==U&&!P||function(){if(n){for(var t=0;t<r.length;t++)r[t]();r.push=function(t){t()},n=!1}b.logMessage("event count sent to ".concat(s,": ").concat(u))}();return{track:function(t){var e=t.eventType,n=t.args;this.getAdapterType()===P&&window[s](i,e,n);this.getAdapterType()===U&&function(t){var e=t.eventType,n=t.args,i=t.callback;Object(p.a)(o,i,JSON.stringify({eventType:e,args:n}))}.apply(void 0,arguments)},enqueue:c,enableAnalytics:d,disableAnalytics:function(){b._each(a,function(t,e){E.off(e,t)}),this.enableAnalytics=this._oldEnable?this._oldEnable:d},getAdapterType:function(){return e},getGlobal:function(){return s},getHandler:function(){return i},getUrl:function(){return o}};function c(t){var e=t.eventType,n=t.args,i=this;s&&window[s]&&e&&n?this.track({eventType:e,args:n}):r.push(function(){u++,i.track({eventType:e,args:n})})}function d(e){var t,n=this,i=this;"object"!==l(e)||"object"!==l(e.options)||(void 0===e.options.sampling||Math.random()<parseFloat(e.options.sampling))?(E.getEvents().forEach(function(t){if(t){var e=t.eventType,n=t.args;e!==h&&c.call(i,{eventType:e,args:n})}}),f(t={},I,function(t){return n.enqueue({eventType:I,args:t})}),f(t,g,function(t){return n.enqueue({eventType:g,args:t})}),f(t,m,function(t){return n.enqueue({eventType:m,args:t})}),f(t,v,function(t){return n.enqueue({eventType:v,args:t})}),f(t,h,function(t){return n.enqueue({eventType:h,args:t})}),f(t,S,function(t){return n.enqueue({eventType:S,args:t})}),f(t,D,function(t){return n.enqueue({eventType:D,args:t})}),f(t,A,function(t){return n.enqueue({eventType:A,args:t})}),f(t,_,function(t){return n.enqueue({eventType:_,args:t})}),f(t,T,function(t){return n.enqueue({eventType:T,args:t})}),f(t,O,function(t){return n.enqueue({eventType:O,args:t})}),f(t,N,function(t){return n.enqueue({eventType:N,args:t})}),f(t,y,function(t){t.config="object"===l(e)&&e.options||{},n.enqueue({eventType:y,args:t})}),a=t,b._each(a,function(t,e){E.on(e,t)})):b.logMessage('Analytics adapter for "'.concat(s,'" disabled by sampling'));this._oldEnable=this.enableAnalytics,this.enableAnalytics=function(){return b.logMessage('Analytics adapter for "'.concat(s,'" already enabled, unnecessary call to `enableAnalytics`.'))}}};var i=n(5),a=n.n(i),p=n(4);function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var E=n(8),b=n(0),o=a.a.EVENTS,y=o.AUCTION_INIT,T=o.AUCTION_END,I=o.REQUEST_BIDS,g=o.BID_REQUESTED,h=o.BID_TIMEOUT,m=o.BID_RESPONSE,v=o.NO_BID,S=o.BID_WON,D=o.BID_ADJUSTMENT,A=o.BIDDER_DONE,_=o.SET_TARGETING,O=o.AD_RENDER_FAILED,N=o.ADD_AD_UNITS,U="endpoint",P="bundle"}},[397]);