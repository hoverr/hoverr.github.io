pbjsChunk([13],{511:function(e,t,n){e.exports=n(512)},512:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),r=n(5),a=n.n(r),o=n(7),s=n(11),u=n.n(s),c=n(4);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var l=n(0),p=Object(c.b)(0),f="pa.rxthdr.com/v3",v=a.a.EVENTS,g=v.AUCTION_INIT,m=v.AUCTION_END,T=v.BID_REQUESTED,h=v.BID_ADJUSTMENT,y=v.BIDDER_DONE,b=v.BID_WON,I={RUNNING:"running",FINISHED:"finished"},E={REQUESTED:"requested",BID:"bid",NO_BID:"noBid",TIMEOUT:"timeout"},D={AUCTION:"a",IMPRESSION:"i",BID_AFTER_TIMEOUT:"bat"},N={},U="roxot_analytics_",_=["utm_source","utm_medium","utm_campaign","utm_term","utm_content"],S="utm_ttl",A="is_new_flag",O=36e5,w={},C=36e5,B=[],R=null,k=1e3;function q(){localStorage.setItem(M(S),Date.now())}function M(e){return U.concat(e)}function j(e){return!N.adUnits.length||u()(N.adUnits,e)}function F(e){return e.adUnitCode.toLowerCase()}function P(e){return e.bidder.toLowerCase()}function x(e,t){return{isNew:(n=M(A),i=Number(localStorage.getItem(n)),localStorage.setItem(n,Date.now()),Date.now()-i>O?1:0),auction:l.deepClone(e),adUnit:F(t),bidder:P(t),cpm:t.cpm,size:{width:t.width,height:t.height},mediaType:t.mediaType,source:t.source||"client"};var n,i}function z(e){var t;w[e.auctionId]={id:(t=e).auctionId,start:t.timestamp,timeout:t.timeout,adUnits:{}},function(){for(var e in w){var t=w[e];Date.now()-t.start>C&&delete w[e]}}()}function Q(e){var s=w[e.auctionId];e.bids.forEach(function(e){var t=F(e),n=P(e);if(j(t)){var i;s.adUnits[t]=s.adUnits[t]||(i=s,{adUnit:F(e),start:i.start,timeout:i.timeout,finish:0,status:I.RUNNING,bidders:{}});var r,a,o=s.adUnits[t];o.bidders[n]=o.bidders[n]||(r=s,{bidder:P(a=e),isAfterTimeout:r.status===I.FINISHED?1:0,start:a.startTime||Date.now(),finish:0,status:E.REQUESTED,cpm:-1,size:{width:0,height:0},mediaType:"-",source:a.source||"client"})}})}function G(e){var t=F(e),n=P(e);if(j(t)){var i=w[e.auctionId].adUnits[t];if(i.status!==I.FINISHED){var r=i.bidders[n];r.cpm<e.cpm&&(r.cpm=e.cpm,r.finish=e.responseTimestamp,r.status=0===e.cpm?E.NO_BID:E.BID,r.size.width=e.width||0,r.size.height=e.height||0,r.mediaType=e.mediaType||"-",r.source=e.source||"client")}else!function(e,t){var n=P(t),i=e.bidders[n],r=function(e,t){return{auction:l.deepClone(e),adUnit:F(t),bidder:P(t),cpm:t.cpm,size:{width:t.width||0,height:t.height||0},mediaType:t.mediaType||"-",start:t.requestTimestamp,finish:t.responseTimestamp}}(e,t);r.cpm>i.cpm&&(i.cpm=r.cpm,i.isAfterTimeout=1,i.finish=r.finish,i.size=r.size,i.mediaType=r.mediaType,i.status=0===r.cpm?E.NO_BID:E.BID);L(D.BID_AFTER_TIMEOUT,"Bid After Timeout",r)}(i,e)}}var H=d(Object(i.a)({url:f,analyticsType:"endpoint"}),{track:function(e){var t,n,a,i=e.eventType,r=e.args;switch(i){case g:z(r);break;case T:Q(r);break;case h:G(r);break;case y:a=w[(n=r).auctionId],n.bids.forEach(function(e){var t=F(e),n=P(e);if(j(t)){var i=a.adUnits[t];if(i.status!==I.FINISHED){var r=i.bidders[n];r.status===E.REQUESTED&&(r.finish=Date.now(),r.status=E.NO_BID,r.cpm=0)}}});break;case m:!function(e){var t=w[e.auctionId];Object.keys(t.adUnits).length||delete w[e.auctionId];var n=Date.now();for(var i in t.finish=n,t.adUnits){var r=t.adUnits[i];for(var a in r.finish=n,r.status=I.FINISHED,r.bidders){var o=r.bidders[a];o.status===E.REQUESTED&&(o.status=E.TIMEOUT)}}L(D.AUCTION,"Auction",t)}(r);break;case b:!function(e){var t=F(e);if(j(t)){var n=x(w[e.auctionId].adUnits[t],e);L(D.IMPRESSION,"Bid won",n)}}(r);break;default:L(t=i,t,r)}}});function L(e,t,n){var i={eventType:e,eventName:t,data:n};B.push(i),K("Register event",i),(void 0===N.serverConfig?V:J)()}function J(){if(R&&(clearTimeout(R),R=null),void 0!==N.serverConfig)for(;B.length;){var e=B.shift(),t=N.serverConfig[e.eventType]||0;0!==Number(t)?W(e.eventType,e.eventName,e.data):K("Skip event "+e.eventName,e)}else V()}function V(){R=R||setTimeout(J,k)}function W(e,t,n){var i="https://"+N.server+"/"+e+"?publisherId="+N.publisherId+"&host="+N.host,r={event:e,eventName:t,options:N,data:n};p(i,function(){K(t+" sent",r)},JSON.stringify(r),{contentType:"text/plain",method:"POST",withCredentials:!0})}function K(e,t){l.logInfo(X(e),t)}function X(e){return"Roxot Prebid Analytics: "+e}H.originEnableAnalytics=H.enableAnalytics,H.enableAnalytics=function(e){this.initConfig(e)&&(K("Analytics adapter enabled",N),H.originEnableAnalytics(e))},H.buildUtmTagData=function(){var n={},i=!1;return _.forEach(function(e){var t=l.getParameterByName(e);""!==t&&(i=!0),n[e]=t}),_.forEach(function(e){var t;i?(localStorage.setItem(M(e),n[e]),q()):(t=localStorage.getItem(M(S)),36e5<Date.now()-t||(n[e]=localStorage.getItem(M(e))?localStorage.getItem(M(e)):"",q()))}),n},H.initConfig=function(e){var t,n,i=!0;return(N={}).options=l.deepClone(e.options),N.publisherId=N.options.publisherId||N.options.publisherIds[0]||null,N.publisherId||(t='"options.publisherId" is empty',l.logError(X(t)),i=!1),N.adUnits=N.options.adUnits||[],N.adUnits=N.adUnits.map(function(e){return e.toLowerCase()}),N.server=N.options.server||f,N.configServer=N.options.configServer||N.options.server||"pa.rxthdr.com/v3",N.utmTagData=this.buildUtmTagData(),N.host=N.options.host||window.location.hostname,N.device=/ipad|android 3.0|xoom|sch-i800|playbook|tablet|kindle/i.test(navigator.userAgent.toLowerCase())?"tablet":/iphone|ipod|android|blackberry|opera|mini|windows\sce|palm|smartphone|iemobile/i.test(navigator.userAgent.toLowerCase())?"mobile":"desktop",n="https://"+N.configServer+"/c?publisherId="+N.publisherId+"&host="+N.host,p(n,{success:function(e){N.serverConfig=JSON.parse(e)},error:function(){N.serverConfig={},N.serverConfig[D.AUCTION]=1,N.serverConfig[D.IMPRESSION]=1,N.serverConfig[D.BID_AFTER_TIMEOUT]=1,N.serverConfig.isError=1}},null,{contentType:"text/json",method:"GET",withCredentials:!0}),i},H.getOptions=function(){return N},o.default.registerAnalyticsAdapter({adapter:H,code:"roxot"}),t.default=H},6:function(e,t,n){"use strict";t.a=function(e){var r,a=e.url,t=e.analyticsType,o=e.global,i=e.handler,s=[],u=0,n=!0;t!==O&&!w||function(){if(n){for(var e=0;e<s.length;e++)s[e]();s.push=function(e){e()},n=!1}g.logMessage("event count sent to ".concat(o,": ").concat(u))}();return{track:function(e){var t=e.eventType,n=e.args;this.getAdapterType()===w&&window[o](i,t,n);this.getAdapterType()===O&&function(e){var t=e.eventType,n=e.args,i=e.callback;Object(l.a)(a,i,JSON.stringify({eventType:t,args:n}))}.apply(void 0,arguments)},enqueue:c,enableAnalytics:d,disableAnalytics:function(){g._each(r,function(e,t){v.off(t,e)}),this.enableAnalytics=this._oldEnable?this._oldEnable:d},getAdapterType:function(){return t},getGlobal:function(){return o},getHandler:function(){return i},getUrl:function(){return a}};function c(e){var t=e.eventType,n=e.args,i=this;o&&window[o]&&t&&n?this.track({eventType:t,args:n}):s.push(function(){u++,i.track({eventType:t,args:n})})}function d(t){var e,n=this,i=this;"object"!==f(t)||"object"!==f(t.options)||(void 0===t.options.sampling||Math.random()<parseFloat(t.options.sampling))?(v.getEvents().forEach(function(e){if(e){var t=e.eventType,n=e.args;t!==b&&c.call(i,{eventType:t,args:n})}}),p(e={},h,function(e){return n.enqueue({eventType:h,args:e})}),p(e,y,function(e){return n.enqueue({eventType:y,args:e})}),p(e,I,function(e){return n.enqueue({eventType:I,args:e})}),p(e,E,function(e){return n.enqueue({eventType:E,args:e})}),p(e,b,function(e){return n.enqueue({eventType:b,args:e})}),p(e,D,function(e){return n.enqueue({eventType:D,args:e})}),p(e,N,function(e){return n.enqueue({eventType:N,args:e})}),p(e,U,function(e){return n.enqueue({eventType:U,args:e})}),p(e,_,function(e){return n.enqueue({eventType:_,args:e})}),p(e,T,function(e){return n.enqueue({eventType:T,args:e})}),p(e,S,function(e){return n.enqueue({eventType:S,args:e})}),p(e,A,function(e){return n.enqueue({eventType:A,args:e})}),p(e,m,function(e){e.config="object"===f(t)&&t.options||{},n.enqueue({eventType:m,args:e})}),r=e,g._each(r,function(e,t){v.on(t,e)})):g.logMessage('Analytics adapter for "'.concat(o,'" disabled by sampling'));this._oldEnable=this.enableAnalytics,this.enableAnalytics=function(){return g.logMessage('Analytics adapter for "'.concat(o,'" already enabled, unnecessary call to `enableAnalytics`.'))}}};var i=n(5),r=n.n(i),l=n(4);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var v=n(8),g=n(0),a=r.a.EVENTS,m=a.AUCTION_INIT,T=a.AUCTION_END,h=a.REQUEST_BIDS,y=a.BID_REQUESTED,b=a.BID_TIMEOUT,I=a.BID_RESPONSE,E=a.NO_BID,D=a.BID_WON,N=a.BID_ADJUSTMENT,U=a.BIDDER_DONE,_=a.SET_TARGETING,S=a.AD_RENDER_FAILED,A=a.ADD_AD_UNITS,O="endpoint",w="bundle"}},[511]);