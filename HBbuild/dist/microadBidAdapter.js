pbjsChunk([138],{412:function(e,r,t){e.exports=t(413)},413:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t.d(r,"ENVIRONMENT",function(){return p}),t.d(r,"spec",function(){return n});var a=t(1),i=t(2),o={production:"https://s-rtb-pb.send.microad.jp/prebid",test:"https://rtbtest.send.microad.jp/prebid"},p="production";function c(e,r){return(e?-1:0)&r}var n={code:"microad",supportedMediaTypes:[i.b],isBidRequestValid:function(e){return!!(e&&e.params&&e.params.spot&&e.mediaTypes&&(e.mediaTypes.banner||e.mediaTypes.native||e.mediaTypes.video))},buildRequests:function(e,n){var d=[];return e.forEach(function(e){var r,t=e.params,a={spot:t.spot,url:n.refererInfo.canonicalUrl||window.location.href,referrer:n.refererInfo.referer,bid_id:e.bidId,transaction_id:e.transactionId,media_types:c((r=e).mediaTypes.banner,1)|c(r.mediaTypes.native,2)|c(r.mediaTypes.video,4),cbt:Math.floor(Math.random()*Math.pow(10,18)).toString(16)+(new Date).getTime().toString(16)};if(t.url&&(a.url_macro=t.url.replace("${COMPASS_EXT_URL}","")),t.referrer&&(a.referrer_macro=t.referrer.replace("${COMPASS_EXT_REF}","")),t.ifa&&(a.ifa=t.ifa.replace("${COMPASS_EXT_IFA}","")),t.appid&&(a.appid=t.appid.replace("${COMPASS_EXT_APPID}","")),t.geo){var i=t.geo.replace("${COMPASS_EXT_GEO}","");/^[0-9.\-]+,[0-9.\-]+$/.test(i)&&(a.geo=i)}d.push({method:"GET",url:o[p],data:a,options:{Accept:"application/json"}})}),d},interpretResponse:function(e){var r=e.body,t=[];if(r.cpm&&0<r.cpm){var a={requestId:r.requestId,cpm:r.cpm,width:r.width,height:r.height,ad:r.ad,ttl:r.ttl,creativeId:r.creativeId,netRevenue:r.netRevenue,currency:r.currency};r.dealId&&(a.dealId=r.dealId),t.push(a)}return t},getUserSyncs:function(a,e){var i=[];return(a.iframeEnabled||a.pixelEnabled)&&e.forEach(function(e){var r=e.body.syncUrls.iframe,t=e.body.syncUrls.image;a.iframeEnabled&&r&&r.forEach(function(e){i.push({type:"iframe",url:e})}),a.pixelEnabled&&t&&t.forEach(function(e){i.push({type:"image",url:e})})}),i}};Object(a.registerBidder)(n)}},[412]);