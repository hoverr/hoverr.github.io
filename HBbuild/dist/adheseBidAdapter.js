pbjsChunk([248],{144:function(r,e,n){r.exports=n(145)},145:function(r,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"spec",function(){return a});var t=n(1),c=n(2);function u(){return(u=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])}return r}).apply(this,arguments)}function p(r){return function(r){if(Array.isArray(r))return i(r)}(r)||function(r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r))return Array.from(r)}(r)||function(r,e){if(!r)return;if("string"==typeof r)return i(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);"Object"===n&&r.constructor&&(n=r.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(r,e)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(r,e){(null==e||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}var a={code:"adhese",supportedMediaTypes:[c.b,c.d],isBidRequestValid:function(r){return!(!r.params.account||!r.params.location||!r.params.format&&!r.mediaTypes.banner.sizes)},buildRequests:function(r,e){if(0===r.length)return null;var n,t=e.gdprConsent,i=e.refererInfo,a=l(r),o=r.map(function(r){return r.params.data}).reduce(f,{}),c=t&&t.consentString?["xt".concat(t.consentString)]:[],u=i&&i.referer?["xf".concat((n=i.referer,btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")))]:[],s=Object.keys(o).map(function(r){return r+o[r].join(";")}),d=r.map(function(r){return"sl"+m(r)});return{method:"GET",url:"https://ads-"+a+".adhese.com/json"+[].concat(p(d),p(s),c,u).map(function(r){return"/".concat(r)}).join("")+("?t="+(new Date).getTime()),bids:r}},interpretResponse:function(r,e){var n=r.body.reduce(function(r,e){return r[e.slotName]=e,r},{});return r.account=l(e.bids),e.bids.map(function(r){return{bid:r,ad:n[m(r)]}}).filter(function(r){return r.ad}).map(function(r){return function(r,e){var n=function(r){if(r.extension&&r.extension.prebid&&r.extension.prebid.cpm)return r.extension.prebid.cpm;return{amount:0,currency:"USD"}}(e),t=function(r){var e="",n="",t={};if(s(r))e=r.id,n=r.orderId,t={priority:r.priority,orderProperty:r.orderProperty,adFormat:r.adFormat,adType:r.adType,libId:r.libId,adspaceId:r.adspaceId,viewableImpressionCounter:r.viewableImpressionCounter};else if(e=r.origin+(r.originInstance?"-"+r.originInstance:""),r.originData&&(t=r.originData,r.originData.seatbid&&r.originData.seatbid.length)){var i=r.originData.seatbid[0];if(i.bid&&i.bid.length){var a=i.bid[0];e=String(a.crid||""),n=String(a.dealid||"")}}return{creativeId:e,dealId:n,originData:t}}(e),i=function(r){return!s(r)||"js"===r.ext&&void 0!==r.body&&""!==r.body&&r.body.match(/<script|<SCRIPT|<html|<HTML|<\?xml/)?r.body:r.tag}(e),a=function(r){return u({netRevenue:!0,ttl:360},r)}({requestId:r.bidId,mediaType:function(r){return r.trim().toLowerCase().match(/<\?xml|<vast/)?c.d:c.b}(i),cpm:Number(n.amount),currency:n.currency,width:Number(e.width),height:Number(e.height),creativeId:t.creativeId,dealId:t.dealId,adhese:{originData:t.originData}});if(a.mediaType===c.d)a.vastXml=i;else{var o=e.impressionCounter?"<img src='"+e.impressionCounter+"' style='height:1px; width:1px; margin: -1px -1px; display:none;'/>":"";a.ad=i+o}return a}(r.bid,r.ad)})},getUserSyncs:function(r,e,n){if(r.iframeEnabled&&0<e.length){var t=e[0].account;if(t){var i="https://user-sync.adhese.com/iframe/user_sync.html?account="+t;return n&&(i+="&gdpr="+(n.gdprApplies?1:0),i+="&consentString="+encodeURIComponent(n.consentString||"")),[{type:"iframe",url:i}]}}return[]}};function f(i,a){return a&&Object.keys(a).forEach(function(e){var r=a[e],n=Array.isArray(r)?r:[r];if(i[e]){var t=n.filter(function(r){return i[e].indexOf(r)<0});i[e].push.apply(i[e],t)}else i[e]=n}),i}function m(r){if(r.params.format)return r.params.location+"-"+r.params.format;var e=r.mediaTypes.banner.sizes;e.sort();var n=e.map(function(r){return r[0]+"x"+r[1]}).join("_");return 0<n.length?r.params.location+"-"+n:r.params.location}function l(r){return r[0].params.account}function s(r){return!r.origin||"JERLICIA"===r.origin}Object(t.registerBidder)(a)}},[144]);