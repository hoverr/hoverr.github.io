pbjsChunk([161],{388:function(r,n,t){r.exports=t(389)},389:function(r,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.logInfo=s,n.logError=p,n.buildVastUrl=b;var o=t(56),i=t(35),u=t(9),e=t(0),a=t(3);function c(r){return function(r){if(Array.isArray(r))return l(r)}(r)||function(r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r))return Array.from(r)}(r)||function(r,n){if(!r)return;if("string"==typeof r)return l(r,n);var t=Object.prototype.toString.call(r).slice(8,-1);"Object"===t&&r.constructor&&(t=r.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return l(r,n)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(r,n){(null==n||n>r.length)&&(n=r.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=r[t];return o}var d="Konduit";function f(r){return(r=[].slice.call(r)).unshift("".concat(d,": ")),r}function s(){e.logInfo.apply(e,c(f(arguments)))}function p(){e.logError.apply(e,c(f(arguments)))}function b(r){if(!r.params||!r.params.konduit_id)return p("'konduit_id' parameter is required for pbjs.adServers.konduit.buildVastUrl function"),null;var n=r.bid||i.a.getWinningBids()[0];if(!n)return p("Bid is not provided or not found"),null;s("The following bid will be wrapped: ",n);var t={},o=function(r){var n=r&&r.vastUrl;if(n)return s("VAST url found in the bid - ".concat(n)),encodeURIComponent(n);var t=a.b.getConfig("cache.url");if(t){var o="".concat(t,"?uuid=").concat(r.videoCacheKey);return s("VAST url is taken from cache.url: ".concat(o)),encodeURIComponent(o)}}(n);o?(t.konduit_id=r.params.konduit_id,t.konduit_header_bidding=1,t.konduit_url=o):p("No VAST url found in the bid");var e=null;return t.konduit_url&&(e=Object(u.a)({protocol:"https",host:"p.konduit.me",pathname:"/api/vastProxy",search:t}),s("Konduit wrapped VAST url: ".concat(e))),e}Object(o.a)("konduit",{buildVastUrl:b})}},[388]);