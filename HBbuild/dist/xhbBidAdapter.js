pbjsChunk([42],{641:function(e,r,t){e.exports=t(642)},642:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t.d(r,"spec",function(){return h});var d=t(10),p=t(0),a=t(1),c=t(2),n=t(12),u=t.n(n),i=t(11),m=t.n(i);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){return(l=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}function y(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"==typeof e)return o(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return o(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,a=new Array(r);t<r;t++)a[t]=e[t];return a}var f=["id","mimes","minduration","maxduration","startdelay","skippable","playback_method","frameworks"],b=["age","external_uid","segments","gender","dnt","language"],v={body:"description",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0},minimumParams:{sizes:[{}]}},icon:{serverName:"icon",requiredParams:{required:!0},minimumParams:{sizes:[{}]}},sponsoredBy:"sponsored_by"},h={code:"xhb",aliases:[],supportedMediaTypes:[c.b,c.d,c.c],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.member&&e.params.invCode)},buildRequests:function(e,r){var t,a=e.map(g),n=u()(e,k);n&&(t={},Object.keys(n.params.user).filter(function(e){return m()(b,e)}).forEach(function(e){return t[e]=n.params.user[e]}));var i=u()(e,I),s=i?parseInt(i.params.member,10):0,o={tags:y(a),user:t,sdk:{source:"pbjs",version:"3.9.0"}};return 0<s&&(o.member_id=s),r&&r.gdprConsent&&(o.gdpr_consent={consent_string:r.gdprConsent.consentString,consent_required:r.gdprConsent.gdprApplies}),{method:"POST",url:"https://ib.adnxs.com/ut/v3/prebid",data:JSON.stringify(o),bidderRequest:r}},interpretResponse:function(e,r){var i=this,s=r.bidderRequest;e=e.body;var o=[];if(e&&!e.error)return e.tags&&e.tags.forEach(function(e){var r,t,a=(r=e)&&r.ads&&r.ads.length&&u()(r.ads,function(e){return e.rtb});if(a&&0!==a.cpm&&m()(i.supportedMediaTypes,a.ad_type)){var n=function(e,r,t){var a={requestId:e.uuid,cpm:0,creativeId:r.creative_id,dealId:99999999,currency:"USD",netRevenue:!0,ttl:300,appnexus:{buyerMemberId:r.buyer_member_id}};if(r.rtb.video){if(l(a,{width:r.rtb.video.player_width,height:r.rtb.video.player_height,vastUrl:r.rtb.video.asset_url,vastImpUrl:r.notify_url,ttl:3600}),r.renderer_url){var n=p.deepAccess(t.bids[0],"renderer.options");l(a,{adResponse:e,renderer:function(e,r){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},a=d.a.install({id:r.renderer_id,url:r.renderer_url,config:t,loaded:!1});try{a.setRender(S)}catch(e){p.logWarn("Prebid Error calling setRender on renderer",e)}return a.setEventHandlers({impression:function(){return p.logMessage("xhb outstream video impression event")},loaded:function(){return p.logMessage("xhb outstream video loaded event")},ended:function(){p.logMessage("xhb outstream renderer video event"),document.querySelector("#".concat(e)).style.display="none"}}),a}(a.adUnitCode,r,n)}),a.adResponse.ad=a.adResponse.ads[0],a.adResponse.ad.video=a.adResponse.ad.rtb.video}}else if(r.rtb[c.c]){var i=r.rtb[c.c];a[c.c]={title:i.title,body:i.desc,cta:i.ctatext,sponsoredBy:i.sponsored,clickUrl:i.link.url,clickTrackers:i.link.click_trackers,impressionTrackers:i.impression_trackers,javascriptTrackers:i.javascript_trackers},i.main_img&&(a.native.image={url:i.main_img.url,height:i.main_img.height,width:i.main_img.width}),i.icon&&(a.native.icon={url:i.icon.url,height:i.icon.height,width:i.icon.width})}else{l(a,{width:r.rtb.banner.width,height:r.rtb.banner.height,ad:r.rtb.banner.content});try{var s=r.rtb.trackers[0].impression_urls[0],o=p.createTrackPixelHtml(s);a.ad+=o}catch(e){p.logError("Error appending tracking pixel",e)}}return a}(e,a,s);n.mediaType=(t=a.ad_type)===c.d?c.d:t===c.c?c.c:c.b,o.push(n)}}),o;var t="in response for ".concat(s.bidderCode," adapter");return e&&e.error&&(t+=": ".concat(e.error)),p.logError(t),o},getUserSyncs:function(e){if(e.iframeEnabled)return[{type:"iframe",url:"https://acdn.adnxs.com/ib/static/usersync/v3/async_usersync.html"}]}};function g(r){var e,a,s,o,t={};if(t.sizes=_(r.sizes),t.primary_size=t.sizes[0],t.ad_types=[],t.uuid=r.bidId,r.params.placementId?t.id=parseInt(r.params.placementId,10):t.code=r.params.invCode,t.allow_smaller_sizes=r.params.allowSmallerSizes||!1,t.use_pmt_rule=r.params.usePaymentRule||!1,t.prebid=!0,t.disable_psa=!0,r.params.reserve&&(t.reserve=r.params.reserve),r.params.position&&(t.position={above:1,below:2}[r.params.position]||0),r.params.trafficSourceCode&&(t.traffic_source_code=r.params.trafficSourceCode),r.params.privateSizes&&(t.private_sizes=_(r.params.privateSizes)),r.params.supplyType&&(t.supply_type=r.params.supplyType),r.params.pubClick&&(t.pubclick=r.params.pubClick),r.params.extInvCode&&(t.ext_inv_code=r.params.extInvCode),r.params.externalImpId&&(t.external_imp_id=r.params.externalImpId),p.isEmpty(r.params.keywords)||(t.keywords=(e=r.params.keywords,a=[],p._each(e,function(e,r){if(p.isArray(e)){var t=[];p._each(e,function(e){(e=p.getValueString("keywords."+r,e))&&t.push(e)}),e=t}else{if(e=p.getValueString("keywords."+r,e),!p.isStr(e))return;e=[e]}a.push({key:r,value:e})}),a)),(r.mediaType===c.c||p.deepAccess(r,"mediaTypes.".concat(c.c)))&&(t.ad_types.push(c.c),r.nativeParams)){var n=(s=r.nativeParams,o={},Object.keys(s).forEach(function(e){var r=v[e]&&v[e].serverName||v[e]||e,t=v[e]&&v[e].requiredParams;o[r]=l({},t,s[e]);var a=v[e]&&v[e].minimumParams;if(t&&a){var n=Object.keys(s[e]),i=Object.keys(t);0===n.filter(function(e){return!m()(i,e)}).length&&(o[r]=l({},o[r],a))}}),o);t[c.c]={layouts:[n]}}var i=p.deepAccess(r,"mediaTypes.".concat(c.d)),d=p.deepAccess(r,"mediaTypes.video.context");return r.mediaType!==c.d&&!i||t.ad_types.push(c.d),(r.mediaType===c.d||i&&"outstream"!==d)&&(t.require_asset_url=!0),r.params.video&&(t.video={},Object.keys(r.params.video).filter(function(e){return m()(f,e)}).forEach(function(e){return t.video[e]=r.params.video[e]})),(p.isEmpty(r.mediaType)&&p.isEmpty(r.mediaTypes)||r.mediaType===c.b||r.mediaTypes&&r.mediaTypes[c.b])&&t.ad_types.push(c.b),t}function _(e){var r=[],t={};if(p.isArray(e)&&2===e.length&&!p.isArray(e[0]))t.width=parseInt(e[0],10),t.height=parseInt(e[1],10),r.push(t);else if("object"===s(e))for(var a=0;a<e.length;a++){var n=e[a];(t={}).width=parseInt(n[0],10),t.height=parseInt(n[1],10),r.push(t)}return r}function k(e){return!!e.params.user}function I(e){return!!parseInt(e.params.member,10)}function S(e){e.renderer.push(function(){window.ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},function(e,r,t){e.renderer.handleVideoEvent({id:r,eventName:t})}.bind(null,e))})}Object(a.registerBidder)(h)}},[641]);