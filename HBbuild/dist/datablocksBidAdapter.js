atdpbjsChunk([200],{297:function(e,a,i){e.exports=i(298)},298:function(e,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),i.d(a,"spec",function(){return t});var l=i(0),r=i(1),y=i(2),m=i(9);function v(){return(v=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var i=arguments[a];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var f={body:2,body2:10,price:6,displayUrl:11,cta:12},h=[{id:1,required:1,title:{len:140}},{id:2,required:1,img:{type:3}},{id:3,required:1,data:{type:11}},{id:4,required:0,data:{type:2}},{id:5,required:0,img:{type:1}},{id:6,required:0,data:{type:12}}],b=["mimes","minduration","maxduration","protocols","w","h","startdelay","placement","linearity","skip","skipmin","skipafter","sequence","battr","maxextended","minbitrate","maxbitrate","boxingallowed","playbackmethod","playbackend","delivery","pos","companionad","api","companiontype","ext"],t={supportedMediaTypes:[y.b,y.c,y.d],code:"datablocks",isBidRequestValid:function(e){return!!(e.params.host&&e.params.sourceId&&e.mediaTypes&&(e.mediaTypes.banner||e.mediaTypes.native||e.mediaTypes.video))},buildRequests:function(e,t){if(!e.length)return[];var p={},a={},i={},r=Object(m.c)(t.referrer),n=[];e.forEach(function(a){var i={id:a.bidId,tagid:a.adUnitCode,secure:"https:"==window.location.protocol};if(l.deepAccess(a,"mediaTypes.banner")){var e=a.mediaTypes.banner.sizes;if(1==e.length)i.banner={w:e[0][0],h:e[0][1]};else{if(!(1<e.length))return;i.banner={format:e.map(function(e){return{w:e[0],h:e[1]}})}}}else if(l.deepAccess(a,"mediaTypes.native")){var n=a.mediaTypes.native;if(n.type){var r=[];switch(n.type){case"image":r=h;break;default:return}i.native=JSON.stringify({assets:r})}else{var d=[];Object.keys(n).forEach(function(e,a){var i=!!n[e].required,r=a+1;switch(e){case"title":d.push({id:r,required:i,title:{len:n[e].len||140}});break;case"body":case"body2":case"price":case"display_url":var t={id:r,required:i,data:{type:f[e]}};n[e].data&&n[e].data.len&&(t.data.len=n[e].data.len),d.push(t);break;case"image":n[e].sizes&&n[e].sizes.length&&d.push({id:r,required:i,image:{type:3,w:n[e].sizes[0],h:n[e].sizes[1]}})}}),i.native={request:JSON.stringify({native:{assets:d}})}}}else if(l.deepAccess(a,"mediaTypes.video")){var t=a.mediaTypes.video,s=t.playerSize||a.sizes||[];if(s.length&&Array.isArray(s[0]))i.video={w:s[0][0],h:s[0][1]};else{if(2!=s.length||Array.isArray(s[0]))return;i.video={w:s[0],h:s[1]}}t.durationRangeSec&&(Array.isArray(t.durationRangeSec)?1==t.durationRangeSec.length?i.video.maxduration=t.durationRangeSec[0]:2==t.durationRangeSec.length&&(i.video.minduration=t.durationRangeSec[0],i.video.maxduration=t.durationRangeSec[1]):i.video.maxduration=t.durationRangeSec),a.params.video&&Object.keys(a.params.video).forEach(function(e){-1<b.indexOf(e)&&(i.video[e]=a.params.video[e])})}var o=a.params.host,c=a.params.sourceId;p[o]=p[o]||{};var u=p[o][c]=p[o][c]||{imps:[]};u.imps.push(i),u.subid=u.imps.subid||a.params.subid||"blank",u.path="search",u.idParam="sid",u.protocol="//"}),a.domain=r.hostname,a.page=r.protocol+"://"+r.hostname+r.pathname,self===top&&document.referrer&&(a.ref=document.referrer);var d,s,o,c,u=document.getElementsByTagName("meta").keywords;return u&&u.content&&(a.keywords=u.content),i.ip="peer",i.ua=window.navigator.userAgent,i.js=1,i.language=(navigator.language||navigator.userLanguage||"").split("-")[0]||"en",d=i,s=a,o=p,c=[],Object.keys(o).forEach(function(i){var r=o[i];Object.keys(r).forEach(function(e){var a=r[e];c.push({url:"https://".concat(i,"/").concat(a.path,"/?").concat(a.idParam,"=").concat(e),body:{id:t.auctionId,imp:a.imps,site:v({id:a.subid||"blank"},s),device:v({},d)}})})}),c.forEach(function(e){n.push({method:"POST",url:e.url,data:e.body,options:{withCredentials:!1}})}),n},interpretResponse:function(e,a){if(!e||!e.body||!e.body.seatbid)return[];var i=e.body.seatbid.map(function(e){return e.bid}).reduce(function(e,a){return e.concat(a)},[]),v=a.data.imp;return i.map(function(e){var a;for(var i in v){var r=v[i];if(r.id==e.impid){a=r;break}}var t={requestId:e.impid,cpm:e.price,creativeId:e.crid,currency:e.currency||"USD",netRevenue:!0,ttl:360};if(!a)return t;if(a.banner)t.mediaType=y.b,t.width=e.w,t.height=e.h,t.ad=e.adm;else if(a.native){t.mediaType=y.c;var n={};Object.keys(f).forEach(function(e){n[f[e]]=e});var d={},s=JSON.parse(a.native.request);s.native&&s.native.assets&&s.native.assets.forEach(function(e){e.data&&(d[e.id]=n[e.data.type])});var o=JSON.parse(e.adm).native,c=o.assets,u=o.link,p=o.imptrackers,l=o.jstrackers,m={clickUrl:u.url,clickTrackers:u.clicktrackers||void 0,impressionTrackers:p||void 0,javascriptTrackers:l?[l]:void 0};c.forEach(function(e){e.title?m.title=e.title.text:e.img?m.image=e.img.url:d[e.id]&&(m[d[e.id]]=e.data.value)}),t.native=m}else a.video&&(t.mediaType=y.d,t.width=e.w,t.height=e.h,e.adm?t.vastXml=e.adm:e.nurl&&(t.vastUrl=e.nurl));return t})}};Object(r.registerBidder)(t)}},[297]);