atdpbjsChunk([223],{239:function(t,e,r){t.exports=r(240)},240:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addBrowsiTag=d,e.setData=y,e.isIdMatchingAdUnit=O,r.d(e,"browsiSubmodule",function(){return h}),e.init=w;var n=r(3),b=r(0),o=r(13),i=r(4),a=r(28);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s="realTimeData",l=1e3,g={},f=null,p=null;function d(t){var e=Object(a.a)(t.u,"browsi");return e.async=!0,e.setAttribute("data-sitekey",g.siteKey),e.setAttribute("data-pubkey",g.pubKey),e.setAttribute("prebidbpt","true"),e.setAttribute("id","browsi-tag"),e.setAttribute("src",t.u),e.prebidData=b.deepClone(t),g.keyName&&(e.prebidData.kn=g.keyName),e}function m(){var t=window.top,e=t.document,r=null;try{r=b.getDataFromLocalStorage("__brtd")}catch(t){b.logError("unable to parse __brtd")}var n,o,a=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){c(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},{sk:g.siteKey,sw:t.screen&&t.screen.width||-1,sh:t.screen&&t.screen.height||-1,url:encodeURIComponent("".concat(e.location.protocol,"//").concat(e.location.host).concat(e.location.pathname))},{},r?{us:r}:{us:"{}"},{},document.referrer?{r:document.referrer}:{},{},document.title?{at:document.title}:{});n="//".concat(g.url,"/prebid?").concat((o=a,Object.keys(o).map(function(t){return t+"="+encodeURIComponent(o[t])}).join("&"))),Object(i.b)(g.auctionDelay||g.timeout||l)(n,{success:function(t,e){if(200===e.status)try{var r=JSON.parse(t);r&&r.p&&r.kn?y({p:r.p,kn:r.kn,pmd:r.pmd}):y({}),d(r)}catch(t){b.logError("unable to parse data"),y({})}else 204===e.status&&y({})},error:function(){y({}),b.logError("unable to get prediction data")}})}function y(t){f=t,"function"==typeof p&&(p(f),p=null)}function v(){return b.isGptPubadsDefined&&window.googletag.pubads().getSlots()}function O(t,e,r){if(!r||!r.length)return!0;var n=e.getAdUnitPath();return-1!==r.indexOf(n)}var h={name:"browsi",getData:function(r,n){try{t=function(p){var d=p.p;if(!d||!Object.keys(d).length)return n({});var t=v();if(!t||!t.length)return n({});var e=r.reduce(function(t,e){var r=e&&e.code;if(!r)return t;var n,o,a=(n=r,(o=v())&&o.length&&o.filter(function(t){return t.getSlotElementId()===n})[0]||null);if(!a)return t;var i,u,c,s,l=function(e,t,r){if(e)try{return function(t,e,r,n){var o=t.p.replace(/['"]+/g,"").replace(/<DIV_ID>/g,e);r&&(o=o.replace(/<AD_UNIT>/g,r));n&&(o=o.replace(/<KEY_(\w+)>/g,n));t.s&&(o=o.substring(t.s.s,t.s.e));return o}(e,r.getSlotElementId(),r.getAdUnitPath(),function(t,e){return e&&r.getTargeting(e).join("_")||"NA"})}catch(t){b.logError("failed to evaluate: ".concat(e))}return t}(p.pmd,r,a),f=d[l];if(!f)return t;if(f.p){if(!O(0,a,f.w))return t;t[r]=(i=f.p,u=p.kn,c=i<0?"NA":(Math.floor(10*i)/10).toFixed(2),(s={})[(g.keyName||u).toString()]=c.toString(),s)}return t},{});return n(e)},f?(p=null,t(f)):p=t}catch(t){n({})}var t}};function w(t){var r=t.getConfig(s,function(t){var e=t.realTimeData;try{(g=e.dataProviders&&e.dataProviders.filter(function(t){return t.name&&"browsi"===t.name.toLowerCase()})[0].params).auctionDelay=e.auctionDelay,g.timeout=e.timeout}catch(t){g={}}g.siteKey&&g.pubKey&&g.url?(r(),m()):b.logError("missing params for Browsi provider")})}Object(o.e)("realTimeData",h),w(n.b)}},[239]);