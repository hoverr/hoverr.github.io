pbjsChunk([218],{249:function(a,t,e){a.exports=e(250)},250:function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),e.d(t,"registerAdserver",function(){return g}),t.getAdserverCategoryHook=p,t.initTranslation=b;var i=e(3),r=e(13),n=e(4),o=e(0),l=e(42),s="iabToFwMappingkey",c="iabToFwMappingkeyPub",d=1,g=Object(r.b)("async",function(a){"freewheel"===a&&b("https://cdn.jsdelivr.net/gh/prebid/category-mapping-file@1/freewheel-mapping.json",s)},"registerAdserver");function p(a,t,e){if(!e)return a.call(this,t);if(!i.b.getConfig("adpod.brandCategoryExclusion"))return a.call(this,t,e);var r=i.b.getConfig("brandCategoryTranslation.translationFile")?c:s;if(e.meta&&!e.meta.adServerCatId){var n=Object(o.getDataFromLocalStorage)(r);if(n){try{n=JSON.parse(n)}catch(a){Object(o.logError)("Failed to parse translation mapping file")}e.meta.iabSubCatId&&n.mapping&&n.mapping[e.meta.iabSubCatId]?e.meta.adServerCatId=n.mapping[e.meta.iabSubCatId].id:e.meta.adServerCatId=void 0}else Object(o.logError)("Translation mapping data not found in local storage")}a.call(this,t,e)}function b(a,t){Object(r.d)(l.c,p,50);var e=Object(o.getDataFromLocalStorage)(t);(!e||Object(o.timestamp)()<e.lastUpdated+24*d*60*60*1e3)&&Object(n.a)(a,{success:function(a){try{(a=JSON.parse(a)).lastUpdated=Object(o.timestamp)(),Object(o.setDataInLocalStorage)(t,JSON.stringify(a))}catch(a){Object(o.logError)("Failed to parse translation mapping file")}},error:function(){Object(o.logError)("Failed to load brand category translation file.")}})}g(),i.b.getConfig("brandCategoryTranslation",function(a){var t;(t=a.brandCategoryTranslation).translationFile&&b(t.translationFile,c)})}},[249]);