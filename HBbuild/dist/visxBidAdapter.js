pbjsChunk([50],{659:function(e,r,n){e.exports=n(660)},660:function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),n.d(r,"spec",function(){return C});var c=n(0),t=n(1),s=n(3),f="visx",b="Bid from response has no auid parameter - ",g="Bid from response has no adm parameter - ",d="Array of bid objects is empty",h="Can't find in requested bids the bid with auid - ",a="Seatbid array from response has an empty item",p="Response is empty",u="Response has empty seatbid array",l="Seatbid from response has no array of bid objects - ",y="Currency is not supported - ",m="Currency from the request is not match currency from the response - ",v=["EUR","USD","GBP","PLN"],C={code:f,isBidRequestValid:function(e){return!!e.params.uid},buildRequests:function(e,r){var o,d=[],a={},p={},u={},n=e||[],t=s.b.getConfig("currency.bidderCurrencyDefault.".concat(f))||s.b.getConfig("currency.adServerCurrency")||"EUR";if(-1!==v.indexOf(t)){n.forEach(function(e){o=e.bidderRequestId;var r=e.params.uid,n=e.adUnitCode;d.push(r);var t=c.parseSizesInput(e.sizes);p[r]||(p[r]={});var i=p[r];i[n]?i[n].bids.push(e):i[n]={adUnitCode:n,bids:[e],parents:[]};var s=i[n];t.forEach(function(e){u[e]=!0,a[r]||(a[r]={}),a[r][e]?a[r][e].push(s):a[r][e]=[s],s.parents.push({parent:a[r],key:e,uid:r})})});var i={pt:"net",auids:d.join(","),sizes:c.getKeys(u).join(","),r:o,cur:t,wrapperType:"Prebid_js",wrapperVersion:"3.13.0-pre"};return r&&(r.refererInfo&&r.refererInfo.referer&&(i.u=r.refererInfo.referer),r.gdprConsent&&(r.gdprConsent.consentString&&(i.gdpr_consent=r.gdprConsent.consentString),i.gdpr_applies="boolean"==typeof r.gdprConsent.gdprApplies?Number(r.gdprConsent.gdprApplies):1)),{method:"GET",url:"https://t.visx.net/hb",data:i,bidsMap:a}}c.logError(y+t)},interpretResponse:function(e,r){e=e&&e.body;var n,t=[],i=[],s=r.bidsMap,o=r.data.cur;return e?e.seatbid&&!e.seatbid.length&&(n=u):n=p,!n&&e.seatbid&&(e.seatbid.forEach(function(e){E(function(e){e?e.bid?e.bid[0]||c.logError(d):c.logError(l+JSON.stringify(e)):c.logError(a);return e&&e.bid&&e.bid[0]}(e),s,o,t,i)}),i.forEach(function(e){E(e,s,o,t)})),n&&c.logError(n),t},getUserSyncs:function(e,r,n){if(e.pixelEnabled){var t=[];return n&&(n.consentString&&t.push("gdpr_consent="+encodeURIComponent(n.consentString)),t.push("gdpr_applies="+encodeURIComponent("boolean"==typeof n.gdprApplies?Number(n.gdprApplies):1))),[{type:"image",url:"https://t.visx.net/push_sync"+(t.length?"?"+t.join("&"):"")}]}}};function E(e,s,r,n,t){if(e){var i;if(e.auid||(i=b+JSON.stringify(e)),e.adm){var o=r||"EUR",d=s[e.auid];if(d)if(e.cur&&e.cur!==o)i=m+o+" - "+e.cur;else{var a=t?"".concat(e.w,"x").concat(e.h):Object.keys(d)[0];if(d[a]){var p=d[a][0],u=p.bids.shift();n.push({requestId:u.bidId,bidderCode:C.code,cpm:e.price,width:e.w,height:e.h,creativeId:e.auid,currency:o,netRevenue:!0,ttl:360,ad:e.adm,dealId:e.dealid}),p.bids.length||p.parents.forEach(function(e){var r=e.parent,n=e.key,t=e.uid,i=r[n].indexOf(p);-1<i&&r[n].splice(i,1),r[n].length||(delete r[n],c.getKeys(r).length||delete s[t])})}else t&&t.push(e)}else i=h+e.auid}else i=g+JSON.stringify(e);i&&c.logError(i)}}Object(t.registerBidder)(C)}},[659]);