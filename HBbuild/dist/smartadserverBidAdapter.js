pbjsChunk([89],{568:function(e,r,a){e.exports=a(569)},569:function(e,r,a){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),a.d(r,"spec",function(){return d});var p=a(0),s=a(2),n=a(3),t=a(1),d={code:"smartadserver",aliases:["smart"],supportedMediaTypes:[s.b,s.d],isBidRequestValid:function(e){return!!(e.params&&e.params.siteId&&e.params.pageId&&e.params.formatId)},buildRequests:function(e,s){return e.map(function(e){var r={siteid:e.params.siteId,pageid:e.params.pageId,formatid:e.params.formatId,currencyCode:n.b.getConfig("currency.adServerCurrency"),bidfloor:e.params.bidfloor||0,targeting:e.params.target&&""!=e.params.target?e.params.target:void 0,buid:e.params.buId&&""!=e.params.buId?e.params.buId:void 0,appname:e.params.appName&&""!=e.params.appName?e.params.appName:void 0,ckid:e.params.ckId||0,tagId:e.adUnitCode,pageDomain:s&&s.refererInfo&&s.refererInfo.referer?s.refererInfo.referer:void 0,transactionId:e.transactionId,timeout:n.b.getConfig("bidderTimeout"),bidId:e.bidId,prebidVersion:"3.13.0-pre"},a=p.deepAccess(e,"mediaTypes.video");if(a){if(!a||"instream"!==a.context)return{};var t=a.playerSize[0];r.isVideo=!0,r.videoData={videoProtocol:e.params.video.protocol,playerWidth:t[0],playerHeight:t[1],adBreak:e.params.video.startDelay||0}}else{var d=p.deepAccess(e,"mediaTypes.banner");r.sizes=d.sizes.map(function(e){return{w:e[0],h:e[1]}})}s&&s.gdprConsent&&(r.gdpr_consent=s.gdprConsent.consentString,r.gdpr=s.gdprConsent.gdprApplies);var i=JSON.stringify(r);return{method:"POST",url:(void 0!==e.params.domain?e.params.domain:"https://prg.smartadserver.com")+"/prebid/v1",data:i}})},interpretResponse:function(e,r){var a=[],t=e.body;try{if(t){var d=JSON.parse(r.data),i={requestId:d.bidId,cpm:t.cpm,width:t.width,height:t.height,creativeId:t.creativeId,dealId:t.dealId,currency:t.currency,netRevenue:t.isNetCpm,ttl:t.ttl};d.isVideo?(i.mediaType=s.d,i.vastUrl=t.adUrl,i.vastXml=t.ad):(i.adUrl=t.adUrl,i.ad=t.ad),a.push(i)}}catch(e){p.logError("Error while parsing smart server response",e)}return a},getUserSyncs:function(e,r){var a=[];return e.iframeEnabled&&0<r.length&&a.push({type:"iframe",url:r[0].body.cSyncUrl}),a}};Object(t.registerBidder)(d)}},[568]);