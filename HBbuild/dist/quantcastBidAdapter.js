atdpbjsChunk([113],{504:function(e,r,i){e.exports=i(505)},505:function(e,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),i.d(r,"QUANTCAST_DOMAIN",function(){return f}),i.d(r,"QUANTCAST_TEST_DOMAIN",function(){return b}),i.d(r,"QUANTCAST_NET_REVENUE",function(){return u}),i.d(r,"QUANTCAST_TEST_PUBLISHER",function(){return h}),i.d(r,"QUANTCAST_TTL",function(){return m}),i.d(r,"QUANTCAST_PROTOCOL",function(){return S}),i.d(r,"QUANTCAST_PORT",function(){return A}),i.d(r,"spec",function(){return n});var v=i(0),a=i(4),y=i(3),t=i(1),T="quantcast",f="qcx.quantserve.com",b="s2s-canary.quantserve.com",u=!0,h="test-publisher",m=4,S="https",A="8443";function g(e){var r=e.sizes||e.mediaTypes.banner.sizes;return{banner:{battr:e.params.battr,sizes:r.map(function(e){return{width:e[0],height:e[1]}})},placementCode:e.placementCode,bidFloor:e.params.bidFloor||1e-10}}var n={code:T,supportedMediaTypes:["banner","video"],isBidRequestValid:function(e){return!!e.params.publisherId},buildRequests:function(e,r){var i,a=e||[],s=v.deepAccess(r,"gdprConsent")||{},p=v.deepAccess(r,"uspConsent"),c=v.deepAccess(r,"refererInfo.referer"),u=v.deepAccess(r,"refererInfo.canonicalUrl")||y.b.getConfig("pageUrl")||v.deepAccess(window,"location.href"),m=(i=u)?i.replace("http://","").replace("https://","").replace("www.","").split(/[/?#]/)[0]:i,l=[];return a.forEach(function(e){var r,i,a;if(e.mediaTypes)if(e.mediaTypes.video&&"instream"===e.mediaTypes.video.context)a={},(i=e).params.video&&(a.mimes=i.params.video.mimes,a.minduration=i.params.video.minduration,a.maxduration=i.params.video.maxduration,a.protocols=i.params.video.protocols,a.startdelay=i.params.video.startdelay,a.linearity=i.params.video.linearity,a.battr=i.params.video.battr,a.maxbitrate=i.params.video.maxbitrate,a.playbackmethod=i.params.video.playbackmethod,a.delivery=i.params.video.delivery,a.placement=i.params.video.placement,a.api=i.params.video.api),i.mediaTypes.video.mimes&&(a.mimes=i.mediaTypes.video.mimes),v.isArray(i.mediaTypes.video.playerSize[0])?(a.w=i.mediaTypes.video.playerSize[0][0],a.h=i.mediaTypes.video.playerSize[0][1]):(a.w=i.mediaTypes.video.playerSize[0],a.h=i.mediaTypes.video.playerSize[1]),r={video:a,placementCode:i.placementCode,bidFloor:i.params.bidFloor||1e-10};else{if(!e.mediaTypes.banner)return void v.logInfo("".concat(T,": No supported mediaTypes found in ").concat(JSON.stringify(e.mediaTypes)));r=g(e)}else r=g(e);var t={publisherId:e.params.publisherId,requestId:e.bidId,imp:[r],site:{page:u,referrer:c,domain:m},bidId:e.bidId,gdprSignal:s.gdprApplies?1:0,gdprConsent:s.consentString,uspSignal:p?1:0,uspConsent:p,coppa:!0===y.b.getConfig("coppa")?1:0,prebidJsVersion:"3.13.0-pre"},n=JSON.stringify(t),d=e.params.publisherId===h?b:f,o="".concat(S,"://").concat(d,":").concat(A,"/qchb");l.push({data:n,method:"POST",url:o})}),l},interpretResponse:function(e){if(void 0===e)return v.logError("Server Response is undefined"),[];var c=e.body;return void 0!==c&&c.hasOwnProperty("bids")?v.isEmpty(c.bids)?[]:c.bids.map(function(e){var r=e.ad,i=e.cpm,a=e.width,t=e.height,n=e.creativeId,d=e.currency,o=e.videoUrl,s=e.dealId,p={requestId:c.requestId,cpm:i,width:a,height:t,ad:r,ttl:m,creativeId:n,netRevenue:u,currency:d};return void 0!==o&&o&&(p.vastUrl=o,p.mediaType="video"),void 0!==s&&s&&(p.dealId=s),p}):(v.logError("Sub-optimal JSON received from Quantcast server"),[])},onTimeout:function(){var e="".concat(S,"://").concat(f,":").concat(A,"/qchb_notify?type=timeout");Object(a.a)(e,null,null)}};Object(t.registerBidder)(n)}},[504]);