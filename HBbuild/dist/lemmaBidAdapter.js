atdpbjsChunk([160],{390:function(e,r,n){e.exports=n(391)},391:function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),n.d(r,"spec",function(){return i});var d=n(0),a=n(1),u=n(2),s="LEMMA: ",p="USD",i={code:"lemma",supportedMediaTypes:[u.b,u.d],isBidRequestValid:function(e){return!(!e||!e.params)&&(d.isNumber(e.params.pubId)?e.params.adunitId?!!(!e.params.hasOwnProperty("video")||e.params.video.hasOwnProperty("mimes")&&d.isArray(e.params.video.mimes)&&0!==e.params.video.mimes.length)||(d.logWarn(s+"Error: For video ads, mimes is mandatory and must specify atlease 1 mime value. Call to OpenBid will not be sent for ad unit:"+JSON.stringify(e)),!1):(d.logWarn(s+"Error: adUnitId is mandatory. Call to OpenBid will not be sent for ad unit: "+JSON.stringify(e)),!1):(d.logWarn(s+"Error: publisherId is mandatory and cannot be string. Call to OpenBid will not be sent for ad unit: "+JSON.stringify(e)),!1))},buildRequests:function(e,r){var n;r&&r.refererInfo&&(n=r.refererInfo);var a=function(e,r){try{var n={id:""+(new Date).getTime(),at:2,tmax:300,cur:[p],imp:function(e){var r=[],n=e.map(function(e){return function(e){var r,n,a={},i=e.hasOwnProperty("sizes")?e.sizes:[],t="",o=[],s=e&&e.params?e.params:null;a={id:e.bidId,tagid:s.adunitId?s.adunitId.toString():void 0,secure:"https:"===window.location.protocol?1:0,bidfloorcur:s.currency?s.currency:p},s.bidFloor&&(a.bidfloor=s.bidFloor);if(e.hasOwnProperty("mediaTypes"))for(t in e.mediaTypes)switch(t){case u.b:(r=l(e))&&(a.banner=r);break;case u.d:(n=c(e))&&(a.video=n)}else r={pos:0,w:i&&i[0]?i[0][0]:0,h:i&&i[0]?i[0][1]:0},d.isArray(i)&&1<i.length&&((i=i.splice(1,i.length-1)).forEach(function(e){o.push({w:e[0],h:e[1]})}),r.format=o),a.banner=r;return a.hasOwnProperty(u.b)||a.hasOwnProperty(u.d)?a:void 0}(e)});n&&n.forEach(function(e){e&&r.push(e)});return r}(e),user:{},ext:{}},a=e[0],i=function(e){var r=e&&e.params?e.params:null;if(r){var n=r.pubId?r.pubId:0,a=r.app;if(a)return{publisher:{id:n.toString()},id:a.id,name:a.name,bundle:a.bundle,storeurl:a.storeUrl,domain:a.domain,cat:a.categories,pagecat:a.page_category}}return null}(a),t=function(e,r){var n=e&&e.params?e.params:null;if(n){var a=n.pubId?n.pubId:"0",i=n.siteId?n.siteId:"0";if(!n.app)return{publisher:{id:a.toString()},domain:function(e){var r=document.createElement("a");return r.setAttribute("href",e),r.hostname}(r.pageURL),id:i.toString(),ref:r.refURL,page:r.pageURL}}return null}(a,r),o=function(e){var r=e&&e.params?e.params:null;if(r)return{dnt:d.getDNT()?1:0,ua:navigator.userAgent,language:navigator.language||navigator.browserLanguage||navigator.userLanguage||navigator.systemLanguage,w:window.screen.width||window.innerWidth,h:window.screen.height||window.innerHeigh,geo:{country:r.country,lat:r.latitude,lon:r.longitude,region:r.region,city:r.city,zip:r.zip},ip:r.ip,devicetype:r.device_type,ifa:r.ifa};return null}(a);return i&&(n.app=i),t&&(n.site=t),o&&(n.device=o),n}catch(e){d.logError(s,"ERROR ",e)}}(e,function(e){var r={};r.pageURL=e&&e.referer?e.referer:window.location.href,e&&e.referer?r.refURL=e.referer:r.refURL="";return r}(n));if(0!=a.imp.length)return function(e,r){var n=e&&e.params?e.params:null;e&&e.gdprConsent&&(r.regs={ext:{gdpr:e.gdprConsent.gdprApplies?1:0}},r.user={ext:{consent:e.gdprConsent.consentString}});n&&(r.tmax=n.tmax,r.bcat=n.bcat)}(r,a),{method:"POST",url:function(e){var r=e&&e[0].params?e[0].params:null;if(r){var n=r.pubId?r.pubId:0,a=r.adunitId?r.adunitId:0;return"https://ads.lemmatechnologies.com/lemma/servad?pid="+n+"&aid="+a}return null}(e),data:JSON.stringify(a)}},interpretResponse:function(e,r){return function(a,e){var i=[];try{if(e.seatbid){var t=e.curr||p;e.seatbid.forEach(function(e){e.bid.forEach(function(r){var e=function(e){try{if(e)return JSON.parse(e)}catch(e){d.logError(s,"ERROR",e)}return null}(a.data),n={requestId:r.impid,cpm:parseFloat(r.price).toFixed(2),width:r.w,height:r.h,creativeId:r.crid,currency:t,netRevenue:!1,ttl:300,referrer:e.site.ref,ad:r.adm};r.dealid&&(n.dealId=r.dealid),e.imp&&0<e.imp.length&&(n.mediaType=e.mediaType,e.imp.forEach(function(e){if(r.impid===e.id)switch(n.mediaType){case u.b:break;case u.d:n.width=r.hasOwnProperty("w")?r.w:e.video.w,n.height=r.hasOwnProperty("h")?r.h:e.video.h,n.vastXml=r.adm}})),i.push(n)})})}}catch(e){d.logError(s,"ERROR ",e)}return i}(r,e.body)}};function t(e){return e.sizes&&d.isArray(e.sizes[0])&&0<e.sizes[0].length?e.sizes[0]:null}function l(e){var r,n=[];if("banner"===e.mediaType||d.deepAccess(e,"mediaTypes.banner")){var a=(e?e.params:null).banner,i=t(e)||[];i&&0==i.length&&(i=e.mediaTypes.banner.sizes[0]),i&&0<i.length?((r={}).w=i[0],r.h=i[1],r.pos=0,a&&(r=d.deepClone(a)),0<(i=e.mediaTypes.banner.sizes).length&&(n=[],i.forEach(function(e){1<e.length&&n.push({w:e[0],h:e[1]})}),0<n.length&&(r.format=n))):d.logWarn(s+"Error: mediaTypes.banner.sizes missing for adunit: "+e.params.adunitId)}return r}function c(e){var r;if("video"===e.mediaType||d.deepAccess(e,"mediaTypes.video")){var n=e?e.params:null,a=t(e)||[];if(a&&0==a.length&&(a=e.mediaTypes&&e.mediaTypes.video?e.mediaTypes.video.playerSize:[]),a&&0<a.length){var i=n.video;r={},i&&(r=d.deepClone(i)),r.w=a[0],r.h=a[1]}else d.logWarn(s+"Error: mediaTypes.video.sizes missing for adunit: "+e.params.adunitId)}return r}Object(a.registerBidder)(i)}},[390]);