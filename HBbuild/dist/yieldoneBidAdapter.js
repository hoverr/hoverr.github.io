atdpbjsChunk([42],{677:function(e,n,t){e.exports=t(678)},678:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),t.d(n,"spec",function(){return a});var f=t(0),g=t(3),i=t(1),b=t(10),h=t(2),a={code:"yieldone",aliases:["y1"],supportedMediaTypes:[h.b,h.d],isBidRequestValid:function(e){return!!e.params.placementId},buildRequests:function(e,r){return e.map(function(e){var n={v:"hb1",p:e.params.placementId,cb:Math.floor(99999999999*Math.random()),r:r.refererInfo.referer,uid:e.bidId,tid:e.transactionId,uc:e.adUnitCode,tmax:g.b.getConfig("bidderTimeout"),t:"i"},t=f.deepAccess(e,"mediaTypes.video");if(f.isEmpty(e.mediaType)&&f.isEmpty(e.mediaTypes)||e.mediaType===h.b||e.mediaTypes&&e.mediaTypes[h.b]){var i=f.deepAccess(e,"mediaTypes.banner.sizes")||e.sizes;n.sz=f.parseSizesInput(i).join(",")}else if(e.mediaType===h.d||t){var a=f.deepAccess(e,"mediaTypes.video.playerSize")||e.sizes,d=f.parseSizesInput(a)[0];n.w=d.split("x")[0],n.h=d.split("x")[1]}return{method:"GET",url:"https://y.one.impact-ad.jp/h_bid",data:n}})},interpretResponse:function(e,n){var t=[],i=e.body,a=i.crid||0,d=i.width||0,r=i.height||0,c=1e3*i.cpm||0;if(0!==d&&0!==r&&0!==c&&0!==a){var o=i.dealId||"",s=i.renderid||"",p=i.currency||"JPY",l=void 0===i.netRevenue||i.netRevenue,m=n.data.r||"",u={requestId:i.uid,cpm:c,width:i.width,height:i.height,creativeId:a,dealId:o,currency:p,netRevenue:l,ttl:g.b.getConfig("_bidderTimeout"),referrer:m};if(i.adTag&&"ViewableRendering"===s){u.mediaType=h.b;var w='\n        <script src="'.concat("https://img.ak.impact-ad.jp/ic/pone/ivt/firstview/js/prebid-adformat-config.js",'"><\/script>\n        <script>\n        let width =').concat(u.width,";\n        let height =").concat(u.height,";\n        let adTag = `").concat(i.adTag.replace(/\\/g,"\\\\").replace(/\//g,"\\/").replace(/'/g,"\\'").replace(/"/g,'\\"'),'`;\n        let targetId ="').concat(n.data.uc,'";\n        window.YONEPBViewable = {};\n        window.YONEPBViewable.executed = false;\n        const viewablePercentage = window.pb_conf.viewablePercentage;\n        const viewableRange = height * 0.01 * viewablePercentage;\n        const iframe = document.createElement(\'iframe\');\n        iframe.setAttribute("style", "border: 0; margin: 0 auto; left: 0; top: 0; width:" + width + "px; height:" + height + "px;");\n        iframe.frameBorder = 0; iframe.scrolling = \'no\';\n        const inDap = document.createElement(\'script\');\n        inDap.innerHTML = "inDapIF = true;";\n        iframe.appendChild(inDap);\n        window.frameElement.parentElement.appendChild(iframe);\n        const doc = iframe.contentWindow ? iframe.contentWindow.document : iframe.contentDocument;\n        if(!window.parent.$sf){\n          let target = window.top.document.getElementById(targetId);\n          window.top.addEventListener(\'scroll\', () => {\n              const targetRect = target.getBoundingClientRect();\n              if (!window.YONEPBViewable.executed && window.top.innerHeight - targetRect.top > viewableRange) {\n                  window.YONEPBViewable.executed = true;\n                  doc.open(); doc.write(adTag); doc.close();\n                  window.frameElement.style.display = "none";\n              }\n            }, false);\n        }else{\n          let disp = function(){\n            if(!window.YONEPBViewable.executed && window.parent.$sf.ext.inViewPercentage() > viewablePercentage){\n                window.YONEPBViewable.executed = true;\n                doc.open(); doc.write(adTag); doc.close();\n                window.frameElement.style.display = "none";\n            }\n            let id = setTimeout(disp, 100);\n            if(window.YONEPBViewable.executed){clearTimeout(id);}\n          };\n          disp();\n        }\n        <\/script>\n        ');u.ad=w}else i.adTag?(u.mediaType=h.b,u.ad=i.adTag):i.adm&&(u.mediaType=h.d,u.vastXml=i.adm,u.renderer=function(e){var n=b.a.install({id:e.uid,url:"https://img.ak.impact-ad.jp/ic/pone/ivt/firstview/js/dac-video-prebid.min.js",loaded:!1});try{n.setRender(y)}catch(e){f.logWarn("Prebid Error calling setRender on newRenderer",e)}return n}(i));t.push(u)}return t},getUserSyncs:function(e){if(e.iframeEnabled)return[{type:"iframe",url:"https://y.one.impact-ad.jp/push_sync"}]}};function y(e){e.renderer.push(function(){window.DACIVTPREBID.renderPrebid(e)})}Object(i.registerBidder)(a)}},[677]);