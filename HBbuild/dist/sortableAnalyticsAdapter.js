atdpbjsChunk([9],{584:function(e,t,n){e.exports=n(585)},585:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"DEFAULT_PBID_TIMEOUT",function(){return m}),n.d(t,"TIMEOUT_FOR_REGISTRY",function(){return v});var i=n(6),r=n(5),a=n.n(r),o=n(7),u=n(0),c=n(4),d=n(18),s=n(3);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var f="https",b="pa.deployads.com",p="".concat(f,"://").concat(b,"/pae"),y="sortable_utm",m=1e3,v=250,T={},I=a.a.EVENTS,g=I.AUCTION_INIT,h=I.AUCTION_END,_=I.BID_REQUESTED,E=I.BID_ADJUSTMENT,A=I.BID_WON,O=I.BID_TIMEOUT,U=60*30*1e3,C={BID_WON:"pbrw",BID_TIMEOUT:"pbto",ERROR:"pber",PB_BID:"pbid"},S=["utm_campaign","utm_source","utm_medium","utm_content","utm_term"],D={auctionId:"ai",adUnitCode:"ac",adId:"adi",bidderAlias:"bs",bidFactor:"bif",bidId:"bid",bidRequestCount:"brc",bidderRequestId:"brid",bidRequestedSizes:"rs",bidTopCpm:"btcp",bidTopCpmCurrency:"btcc",bidTopIsNetRevenue:"btin",bidTopFactor:"btif",bidTopSrc:"btsrc",cpm:"c",currency:"cc",dealId:"did",isNetRevenue:"inr",isTop:"it",isWinner:"iw",isTimeout:"ito",mediaType:"mt",reachedTop:"rtp",numIframes:"nif",size:"siz",start:"st",tagId:"tgid",transactionId:"trid",ttl:"ttl",ttr:"ttr",url:"u",utm_campaign:"uc",utm_source:"us",utm_medium:"um",utm_content:"un",utm_term:"ut"},N={},R=null,k=null,j=[];function B(){try{return window.sessionStorage}catch(e){return null}}function q(e,t){try{var n=B();return n?(null===t?n.removeItem(e):n.setItem(e,JSON.stringify(t)),1):void 0}catch(e){return}}function w(){for(var e=(+new Date).toString(36),t=0;t<6;++t)e+=(36*Math.random()|0).toString(36);return e}function M(){var n=null;if(!T.disableSessionTracking){var e=function(e){try{var t=B();if(!t)return null;var n=t.getItem(e);return null===n?null:JSON.parse(n)}catch(e){return null}}(y);n=e&&e.created<+new Date+U?e:null}n=n||{created:+new Date,sessionId:w()};var i=S.map(u.getParameterByName);return S.every(function(e){return!n[e]})&&(S.forEach(function(e,t){return n[e]=i[t]||n[e]}),n.created=+new Date,function(e,t){if(!T.disableSessionTracking)for(var n in t)if(t.hasOwnProperty(n)){q(e,t);break}}(y,n)),n}function P(){var r=Object(d.a)(),a={};return r&&r.bidderSettings&&Object.keys(r.bidderSettings).forEach(function(e){var t,n=r.bidderSettings[e],i=(t=n)&&t.bidCpmAdjustment?t.bidCpmAdjustment(1):null;null!==i&&(a[e]=i)}),a}function F(e,t,n){var i={};return i.s=T.key,i.ai=e,i.ac=t,i.bs=n,i}function J(e,t,n){var i=M(),r=Object(d.a)().version,a=F(e,t,n);return a.sid=i.sessionId,a.pv=T.pageviewId,a.to=N[e].timeout,a.pbv=r,S.filter(function(e){return i[e]}).forEach(function(e){return a[D[e]]=i[e]}),a}function W(e){var t=(R=R||P())[e];return void 0!==t?t:1}function x(e){return e.filter(function(e,t,n){return n.indexOf(e)===t})}function z(e,t){if(!e.length)return{};var n=x(e.map(function(e){return Object.keys(e)}).reduce(function(e,t){return e.concat(t)},[])),i={};n.forEach(function(t){e.forEach(function(e){return i[t]=i[t]?i[t].concat(e[t]):[e[t]]})});Object.keys(i).forEach(function(e){return i[e]=i[e].length&&(t=i[e]).every(function(e){return t[0]===e})?i[e][0]:i[e];var t}),i._count=e.length;var r={};return r[t]=i,r}function G(e){var n,i,t=x(e.map(function(e){return e._type})),r=(n=function(e){return e._type},i={},e.forEach(function(e){var t=n(e);i[t]=i[t]?i[t].concat(e):[e]}),i);return t.map(function(e){return r[e]}).map(function(e){return z(e,e[0]._type)}).reduce(function(e,t){var n=Object.keys(t)[0];return e[n]=t[n],e},{})}function H(e){j=j.concat(e),k=k||setTimeout(function(){var e=j.slice();j=[],L(e),k=null},v)}function L(e){var t=T.url,n=G(e);Object(c.a)(t,function(){return u.logInfo("Sortable Analytics data sent")},JSON.stringify(n),{contentType:"text/plain",method:"POST",withCredentials:!0})}function Q(o){var e=o.refererInfo,u=e.referer,c=e.reachedTop,d=e.numIframes;o.bids.forEach(function(e){var t=e.auctionId,n=e.adUnitCode,i="sortable"===e.bidder?e.params.tagId:"";N[t].adUnits[n]||(N[t].adUnits[n]={bids:{}});var r=N[t].adUnits[n].bids,a={adUnitCode:e.adUnitCode,auctionId:o.auctionId,bidderAlias:e.bidder,bidId:e.bidId,bidderRequestId:e.bidderRequestId,bidRequestCount:e.bidRequestsCount,bidRequestedSizes:e.sizes.map(function(e){return e.join("x")}).join(","),currency:e.currency,cpm:0,isTimeout:!1,isTop:!1,isWinner:!1,numIframes:d,start:o.start,tagId:i,transactionId:e.transactionId,reachedTop:c,url:encodeURI(u)};r[a.bidderAlias]=a})}function Y(t){var e,n,i,r,a,o,u,c,d,s=t.auctionId,l=N[s];if(l){var f=t.adUnitCode,b=l.adUnits[f];Object.keys(b.bids).forEach(function(e){b.bids[e].isWinner=t.bidderCode===e})}else{H([(e={adUnitCode:t.adUnitCode,auctionId:t.auctionId,bidderAlias:t.bidderCode,currency:t.currency,cpm:t.cpm,isNetRevenue:t.netRevenue},n=e.auctionId,i=e.adUnitCode,r=e.bidderAlias,a=e.cpm,o=e.currency,u=e.isNetRevenue,c=W(r),(d=F(n,i,r)).bif=c,R=null,d.c=a,d.cc=o,d.inr=u,d._type=C.BID_WON,d)])}}function V(e){e.forEach(function(e){var t,n,i=e.auctionId,r=e.adUnitCode,a=e.bidder,o=N[i];o?o.adUnits[r].bids[a].isTimeout=!0:H([((n=F((t={auctionId:i,adUnitCode:r,bidderAlias:a}).auctionId,t.adUnitCode,t.bidderAlias))._type=C.BID_TIMEOUT,n)])})}function K(t){var o=N[t.auctionId],n=o.adUnits;setTimeout(function(){var e=Object.keys(n).map(function(r){var e=Object.keys(o.adUnits[r].bids),t=e.map(function(e){return o.adUnits[r].bids[e]}),a=t.length?t.reduce(u.getOldestHighestCpmBid):null;return e.map(function(e){var n,i,t=o.adUnits[r].bids[e];return a&&a.cpm&&(t.isTop=a.bidderAlias===t.bidderAlias,t.bidTopFactor=W(a.bidderAlias),t.bidTopCpm=a.cpm,t.bidTopCpmCurrency=a.currency,t.bidTopIsNetRevenue=a.isNetRevenue,t.bidTopSrc=a.bidderAlias),i=J((n=t).auctionId,n.adUnitCode,n.bidderAlias),Object.keys(n).forEach(function(e){var t=D[e];t&&(i[t]=n[e])}),i._type=C.PB_BID,i})}).reduce(function(e,t){return e.concat(t)},[]);R=null,L(e),delete N[t.auctionId]},T.timeoutForPbid)}var X=l(Object(i.a)({url:p,ANALYTICS_TYPE:"endpoint"}),{track:function(e){var t,n,i,r,a,o,u,c,d,s,l=e.eventType,f=e.args;try{switch(l){case g:d=(c=f).auctionId,s=c.timeout,N[d]={timeout:s,auctionId:d,adUnits:{}};break;case h:K(f);break;case _:Q(f);break;case E:r=(t=f).auctionId,a=t.adUnitCode,o=N[r].adUnits[a].bids[t.bidderCode],u=W(t.bidderCode),o.adId=t.adId,o.adUnitCode=t.adUnitCode,o.auctionId=t.auctionId,o.bidderAlias=t.bidderCode,o.bidFactor=u,o.cpm=t.cpm,o.currency=t.currency,o.dealId=t.dealId,o.isNetRevenue=t.netRevenue,o.mediaType=t.mediaType,o.responseTimestamp=t.responseTimestamp,o.size=(n=t.width,i=t.height,"".concat(n,"x").concat(i)),o.ttl=t.ttl,o.ttr=t.timeToRespond;break;case A:Y(f);break;case O:V(f)}}catch(e){!function(e,t,n){var i={};i.s=T.key,i.ti=e,i.args=JSON.stringify(t),i.msg=n.message,i._type=C.ERROR,H([i])}(l,f,e)}}});X.originEnableAnalytics=X.enableAnalytics,X.enableAnalytics=function(e){this.initConfig(e)&&(u.logInfo("Sortable Analytics adapter enabled"),X.originEnableAnalytics(e))},X.initConfig=function(e){var t;return T.disableSessionTracking=void 0!==e.disableSessionTracking&&e.disableSessionTracking,T.key=(t=e.options,(s.b.getConfig("sortable")||{}).siteId||t.siteId),T.protocol=e.options.protocol||f,T.url="".concat(T.protocol,"://").concat(e.options.eventHost||b,"/pae/").concat(T.key),T.pageviewId=w(),T.timeoutForPbid=e.timeoutForPbid?Math.max(e.timeoutForPbid,0):m,!!T.key},X.getOptions=function(){return T},o.default.registerAnalyticsAdapter({adapter:X,code:"sortable"}),t.default=X},6:function(e,t,n){"use strict";t.a=function(e){var r,a=e.url,t=e.analyticsType,o=e.global,i=e.handler,u=[],c=0,n=!0;t!==D&&!N||function(){if(n){for(var e=0;e<u.length;e++)u[e]();u.push=function(e){e()},n=!1}y.logMessage("event count sent to ".concat(o,": ").concat(c))}();return{track:function(e){var t=e.eventType,n=e.args;this.getAdapterType()===N&&window[o](i,t,n);this.getAdapterType()===D&&function(e){var t=e.eventType,n=e.args,i=e.callback;Object(l.a)(a,i,JSON.stringify({eventType:t,args:n}))}.apply(void 0,arguments)},enqueue:d,enableAnalytics:s,disableAnalytics:function(){y._each(r,function(e,t){p.off(t,e)}),this.enableAnalytics=this._oldEnable?this._oldEnable:s},getAdapterType:function(){return t},getGlobal:function(){return o},getHandler:function(){return i},getUrl:function(){return a}};function d(e){var t=e.eventType,n=e.args,i=this;o&&window[o]&&t&&n?this.track({eventType:t,args:n}):u.push(function(){c++,i.track({eventType:t,args:n})})}function s(t){var e,n=this,i=this;"object"!==b(t)||"object"!==b(t.options)||(void 0===t.options.sampling||Math.random()<parseFloat(t.options.sampling))?(p.getEvents().forEach(function(e){if(e){var t=e.eventType,n=e.args;t!==g&&d.call(i,{eventType:t,args:n})}}),f(e={},T,function(e){return n.enqueue({eventType:T,args:e})}),f(e,I,function(e){return n.enqueue({eventType:I,args:e})}),f(e,h,function(e){return n.enqueue({eventType:h,args:e})}),f(e,_,function(e){return n.enqueue({eventType:_,args:e})}),f(e,g,function(e){return n.enqueue({eventType:g,args:e})}),f(e,E,function(e){return n.enqueue({eventType:E,args:e})}),f(e,A,function(e){return n.enqueue({eventType:A,args:e})}),f(e,O,function(e){return n.enqueue({eventType:O,args:e})}),f(e,U,function(e){return n.enqueue({eventType:U,args:e})}),f(e,v,function(e){return n.enqueue({eventType:v,args:e})}),f(e,C,function(e){return n.enqueue({eventType:C,args:e})}),f(e,S,function(e){return n.enqueue({eventType:S,args:e})}),f(e,m,function(e){e.config="object"===b(t)&&t.options||{},n.enqueue({eventType:m,args:e})}),r=e,y._each(r,function(e,t){p.on(t,e)})):y.logMessage('Analytics adapter for "'.concat(o,'" disabled by sampling'));this._oldEnable=this.enableAnalytics,this.enableAnalytics=function(){return y.logMessage('Analytics adapter for "'.concat(o,'" already enabled, unnecessary call to `enableAnalytics`.'))}}};var i=n(5),r=n.n(i),l=n(4);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p=n(8),y=n(0),a=r.a.EVENTS,m=a.AUCTION_INIT,v=a.AUCTION_END,T=a.REQUEST_BIDS,I=a.BID_REQUESTED,g=a.BID_TIMEOUT,h=a.BID_RESPONSE,_=a.NO_BID,E=a.BID_WON,A=a.BID_ADJUSTMENT,O=a.BIDDER_DONE,U=a.SET_TARGETING,C=a.AD_RENDER_FAILED,S=a.ADD_AD_UNITS,D="endpoint",N="bundle"}},[584]);