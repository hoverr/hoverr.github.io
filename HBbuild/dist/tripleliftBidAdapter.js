pbjsChunk([67],{620:function(r,e,t){r.exports=t(621)},621:function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),t.d(e,"tripleliftAdapterSpec",function(){return s});var n=t(2),i=t(1),o=t(0),u=t(3);function p(r){return function(r){if(Array.isArray(r))return d(r)}(r)||function(r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r))return Array.from(r)}(r)||function(r,e){if(!r)return;if("string"==typeof r)return d(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);"Object"===t&&r.constructor&&(t=r.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return d(r,e)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}var a=!0,c=null,s={code:"triplelift",supportedMediaTypes:[n.b],isBidRequestValid:function(r){return void 0!==r.params.inventoryCode},buildRequests:function(r,e){var t="https://tlx.3lift.com/header/auction?",n=function(r){var e={},t=r[0].schain;e.imp=r.map(function(r,e){return{id:e,tagid:r.params.inventoryCode,floor:r.params.floor,banner:{format:r.sizes.filter(l).map(function(r){return{w:r[0],h:r[1]}})}}});var n=[].concat(p(function(r){return f(r,"tdid","adserver.org","TDID")}(r)),p(function(r){return f(r,"idl_env","liveramp.com","idl")}(r)),p(function(r){return f(r,"criteoId","criteo.com","criteoId")}(r)));0<n.length&&(e.user={ext:{eids:n}});t&&(e.ext={schain:t});return e}(r);if(t=o.tryAppendQueryString(t,"lib","prebid"),t=o.tryAppendQueryString(t,"v","3.13.0-pre"),e&&e.refererInfo){var i=e.refererInfo.referer;t=o.tryAppendQueryString(t,"referrer",i)}return e&&e.timeout&&(t=o.tryAppendQueryString(t,"tmax",e.timeout)),e&&e.gdprConsent&&(void 0!==e.gdprConsent.gdprApplies&&(a=e.gdprConsent.gdprApplies,t=o.tryAppendQueryString(t,"gdpr",a.toString())),void 0!==e.gdprConsent.consentString&&(c=e.gdprConsent.consentString,t=o.tryAppendQueryString(t,"cmp_cs",c))),e&&e.uspConsent&&(t=o.tryAppendQueryString(t,"us_privacy",e.uspConsent)),!0===u.b.getConfig("coppa")&&(t=o.tryAppendQueryString(t,"coppa",!0)),t.lastIndexOf("&")===t.length-1&&(t=t.substring(0,t.length-1)),o.logMessage("tlCall request built: "+t),{method:"POST",url:t,data:n,bidderRequest:e}},interpretResponse:function(r,e){var t=e.bidderRequest;return(r.body.bids||[]).map(function(r){return function(r,e){var t={},n=e.width||1,i=e.height||1,u=e.deal_id||"",o=e.crid||"";0!=e.cpm&&e.ad&&(t={requestId:r.bids[e.imp_id].bidId,cpm:e.cpm,width:n,height:i,netRevenue:!0,ad:e.ad,creativeId:o,dealId:u,currency:"USD",ttl:33});return t}(t,r)})},getUserSyncs:function(r,e,t,n){var i=function(r){if(!r)return;if(r.iframeEnabled)return"iframe";if(r.pixelEnabled)return"image"}(r);if(i){var u="https://eb2.3lift.com/sync?";return"image"===i&&(u=o.tryAppendQueryString(u,"px",1),u=o.tryAppendQueryString(u,"src","prebid")),null!==c&&(u=o.tryAppendQueryString(u,"gdpr",a),u=o.tryAppendQueryString(u,"cmp_cs",c)),n&&(u=o.tryAppendQueryString(u,"us_privacy",n)),[{type:i,url:u}]}}};function f(r,e,t,n){return r.map((o=e,function(r){return r&&r.userId&&r.userId[o]})).filter(function(r){return!!r}).map((i=t,u=n,function(r){return{source:i,uids:[{id:r,ext:{rtiPartner:u}}]}}));var i,u,o}function l(r){return 2===r.length&&"number"==typeof r[0]&&"number"==typeof r[1]}Object(i.registerBidder)(s)}},[620]);