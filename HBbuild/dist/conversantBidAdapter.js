pbjsChunk([196],{270:function(e,r,i){e.exports=i(271)},271:function(e,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),i.d(r,"spec",function(){return n});var l=i(0),a=i(1),t=i(2),s="conversant",n={code:s,aliases:["cnvr"],supportedMediaTypes:[t.b,t.d],isBidRequestValid:function(e){if(!e||!e.params)return l.logWarn(s+": Missing bid parameters"),!1;if(!l.isStr(e.params.site_id))return l.logWarn(s+": site_id must be specified as a string"),!1;if(f(e))if(e.params.mimes){if(!l.isArray(e.params.mimes)||!e.params.mimes.every(function(e){return l.isStr(e)}))return l.logWarn(s+": mimes must be an array of strings"),!1}else l.logWarn(s+": mimes should be specified for videos");return!0},buildRequests:function(e,r){var i,a=r&&r.refererInfo?r.refererInfo.referer:"",d="",o="",p=null,u="_pubcid",t=e.map(function(e){var r=l.getBidIdParameter("bidfloor",e.params);d=l.getBidIdParameter("site_id",e.params)||d,u=l.getBidIdParameter("pubcid_name",e.params)||u,o=e.auctionId;var i={id:e.bidId,secure:1,bidfloor:r||0,displaymanager:"Prebid.js",displaymanagerver:"3.9.0"};if(b(e.params.tag_id,i,"tagid"),f(e)){var a=l.deepAccess(e,"mediaTypes.video")||{},t=v(a.playerSize||e.sizes),s={};t&&t[0]&&(b(t[0].w,s,"w"),b(t[0].h,s,"h")),b(e.params.position,s,"pos"),b(e.params.mimes||a.mimes,s,"mimes"),b(e.params.maxduration,s,"maxduration"),b(e.params.protocols||a.protocols,s,"protocols"),b(e.params.api||a.api,s,"api"),i.video=s}else{var n={format:v((l.deepAccess(e,"mediaTypes.banner")||{}).sizes||e.sizes)};b(e.params.position,n,"pos"),i.banner=n}return e.userId&&e.userId.pubcid?p=e.userId.pubcid:e.crumbs&&e.crumbs.pubcid&&(p=e.crumbs.pubcid),i}),s={id:o,imp:t,site:{id:d,mobile:null!==document.querySelector('meta[name="viewport"][content*="width=device-width"]')?1:0,page:a},device:(i=navigator.language?"language":"userLanguage",{h:screen.height,w:screen.width,dnt:"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNoTrack||"yes"===navigator.doNotTrack?1:0,language:navigator[i].split("-")[0],make:navigator.vendor?navigator.vendor:"",ua:navigator.userAgent}),at:1},n={};r&&(r.gdprConsent&&(n.consent=r.gdprConsent.consentString,"boolean"==typeof r.gdprConsent.gdprApplies&&l.deepSetValue(s,"regs.ext.gdpr",r.gdprConsent.gdprApplies?1:0)),r.uspConsent&&l.deepSetValue(s,"regs.ext.us_privacy",r.uspConsent)),(p=p||function(e){var r;try{if(!(r=l.getCookie(e))){var i=l.getDataFromLocalStorage("".concat(e,"_exp"));(""===i||i&&0<new Date(i).getTime()-Date.now())&&(r=(r=l.getDataFromLocalStorage(e))?decodeURIComponent(r):r)}l.isStr(r)&&"{"===r.charAt(0)&&(r=JSON.parse(r))}catch(e){l.logError(e)}return r}(u))&&(n.fpc=p);var c,m,g=(c=e[0],h(m=[],c,"userId.tdid","adserver.org"),h(m,c,"userId.idl_env","liveramp.com"),h(m,c,"userId.criteoId","criteo.com"),h(m,c,"userId.id5id","id5-sync.com"),h(m,c,"userId.parrableid","parrable.com"),h(m,c,"userId.digitrustid.data.id","digitru.st"),h(m,c,"userId.lipb.lipbid","liveintent.com"),m);return 0<g.length&&(n.eids=g),l.isEmpty(n)||(s.user={ext:n}),{method:"POST",url:"https://web.hb.ad.cpe.dotomi.com/s2s/header/24",data:s}},interpretResponse:function(n,e){var d=[],o={};return n=n.body,e&&e.data&&e.data.imp&&l._each(e.data.imp,function(e){return o[e.id]=e}),n&&l.isArray(n.seatbid)&&l._each(n.seatbid,function(e){l._each(e.bid,function(e){var r=parseFloat(e.price);if(0<r&&e.impid){var i=e.adm||"",a=e.nurl||"",t=o[e.impid],s={requestId:e.impid,currency:n.cur||"USD",cpm:r,creativeId:e.crid||"",ttl:300,netRevenue:!0};t.video?("<"===i.charAt(0)?s.vastXml=i:s.vastUrl=i,s.mediaType="video",s.width=t.video.w,s.height=t.video.h):(s.ad=i+'<img src="'+a+'" />',s.width=e.w,s.height=e.h),d.push(s)}})}),d},transformBidParams:function(e){return l.convertTypes({site_id:"string",secure:"number",mobile:"number"},e)}};function v(e){var r;return Array.isArray(e)&&(r=2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]?[{w:e[0],h:e[1]}]:l._map(e,function(e){return{w:e[0],h:e[1]}})),r}function f(e){return"video"===e.mediaType||l.deepAccess(e,"mediaTypes.video")}function b(e,r,i){e&&(r[i]=e)}function h(e,r,i,a){var t=l.deepAccess(r,i);t&&e.push({source:a,uids:[{id:t,atype:1}]})}Object(a.registerBidder)(n)}},[270]);